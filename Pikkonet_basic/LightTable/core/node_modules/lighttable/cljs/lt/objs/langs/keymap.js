// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.langs.keymap');
goog.require('cljs.core');
goog.require('lt.util.cljs');
goog.require('lt.util.dom');
goog.require('lt.objs.context');
goog.require('lt.objs.context');
goog.require('lt.util.dom');
goog.require('clojure.string');
goog.require('lt.util.cljs');
goog.require('lt.objs.command');
goog.require('clojure.string');
goog.require('lt.objs.editor');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.objs.editor');
goog.require('lt.objs.command');
lt.objs.langs.keymap.parser = lt.objs.thread.thread_STAR_.call(null,(function tfun9608(){var orig__4408__auto__ = argsArray(arguments);var msg__4409__auto__ = orig__4408__auto__.shift();var args__4410__auto__ = orig__4408__auto__.map(cljs.reader.read_string);var raise = ((function (orig__4408__auto__,msg__4409__auto__,args__4410__auto__){
return (function (obj__4411__auto__,k__4412__auto__,v__4413__auto__){return _send(obj__4411__auto__,k__4412__auto__,cljs.core.pr_str.call(null,v__4413__auto__),"clj");
});})(orig__4408__auto__,msg__4409__auto__,args__4410__auto__))
;args__4410__auto__.unshift(msg__4409__auto__.obj);
return (function (obj_id,contents){var StringStream = require([cljs.core.str(ltpath),cljs.core.str("/core/node_modules/codemirror/stringstream.js")].join('')).StringStream;var parser = require([cljs.core.str(ltpath),cljs.core.str("/core/node_modules/lighttable/background/behaviorsParser.js")].join('')).parseKeymap;var parsed = parser.call(null,(new StringStream(contents)));return _send(obj_id,new cljs.core.Keyword(null,"parsed","parsed",4313460611),parsed);
}).apply(null,args__4410__auto__);
}));
lt.objs.langs.keymap.pos__GT_state = (function pos__GT_state(ed){var token = lt.objs.editor.__GT_token.call(null,ed,lt.objs.editor.__GT_cursor.call(null,ed));var level = new cljs.core.Keyword(null,"level","level",1116770038).cljs$core$IFn$_invoke$arity$1(cljs.core.last.call(null,cljs.core.get_in.call(null,token,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"state","state",1123661827),new cljs.core.Keyword(null,"overlay","overlay",4217583554),new cljs.core.Keyword(null,"rainbowstack","rainbowstack",2170273284)], null))));if(cljs.core.not.call(null,level))
{return new cljs.core.Keyword(null,"none","none",1017291434);
} else
{if(cljs.core._EQ_.call(null,level,1))
{return new cljs.core.Keyword(null,"root","root",1017410644);
} else
{if(cljs.core._EQ_.call(null,level,2))
{return new cljs.core.Keyword(null,"tag","tag",1014018828);
} else
{if(cljs.core._EQ_.call(null,level,4))
{return new cljs.core.Keyword(null,"key","key",1014010321);
} else
{if(cljs.core._EQ_.call(null,level,5))
{return new cljs.core.Keyword(null,"key-and-params","key-and-params",2001918428);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return new cljs.core.Keyword(null,"param","param",1120340991);
} else
{return null;
}
}
}
}
}
}
});
lt.objs.langs.keymap.locate = (function locate(idx,positions){return cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__9609_SHARP_){return (((new cljs.core.Keyword(null,"to","to",1013907949).cljs$core$IFn$_invoke$arity$1(p1__9609_SHARP_) + 1) > idx)) && ((idx > (new cljs.core.Keyword(null,"from","from",1017056028).cljs$core$IFn$_invoke$arity$1(p1__9609_SHARP_) - 1)));
}),positions));
});
lt.objs.langs.keymap.__GT_index = (function __GT_index(this$){return lt.objs.editor.pos__GT_index.call(null,this$,lt.objs.editor.cursor.call(null,this$));
});
lt.objs.langs.keymap.str__GT_ns_keyword = (function str__GT_ns_keyword(s){if(cljs.core.truth_(s))
{var s__$1 = ((cljs.core._EQ_.call(null,":",cljs.core.first.call(null,s)))?cljs.core.subs.call(null,s,1):s);var parts = clojure.string.split.call(null,s__$1,"/");if(cljs.core.seq.call(null,parts))
{return cljs.core.apply.call(null,cljs.core.keyword,parts);
} else
{return null;
}
} else
{return null;
}
});
lt.objs.langs.keymap.pos__GT_key = (function pos__GT_key(this$,idx){var res = lt.objs.langs.keymap.locate.call(null,idx,new cljs.core.Keyword(null,"positions","positions",2721021916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));if(cljs.core.truth_((function (){var and__3396__auto__ = res;if(cljs.core.truth_(and__3396__auto__))
{return new cljs.core.Keyword(null,"command","command",1964298941).cljs$core$IFn$_invoke$arity$1(res);
} else
{return and__3396__auto__;
}
})()))
{return cljs.core.assoc.call(null,res,new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"commands","commands",4706336250).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.command.manager)).call(null,lt.objs.langs.keymap.str__GT_ns_keyword.call(null,new cljs.core.Keyword(null,"command","command",1964298941).cljs$core$IFn$_invoke$arity$1(res))));
} else
{return null;
}
});
lt.objs.langs.keymap.index_of = (function index_of(needle,haystack){return cljs.core.first.call(null,cljs.core.keep_indexed.call(null,(function (p1__9611_SHARP_,p2__9610_SHARP_){if(cljs.core._EQ_.call(null,p2__9610_SHARP_,needle))
{return p1__9611_SHARP_;
} else
{return null;
}
}),haystack));
});
lt.objs.langs.keymap.param_index = (function param_index(idx,params){if(cljs.core.seq.call(null,params))
{var res = lt.objs.langs.keymap.locate.call(null,idx,params);if(cljs.core.truth_(res))
{return lt.objs.langs.keymap.index_of.call(null,res,params);
} else
{return null;
}
} else
{return null;
}
});
lt.objs.langs.keymap.completions = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"root","root",1017410644),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [{"completion": ":+"},{"completion": ":-"}], null),new cljs.core.Keyword(null,"tag","tag",1014018828),(function (){return cljs.core.map.call(null,(function (p1__9612_SHARP_){return {"text": [cljs.core.str(p1__9612_SHARP_)].join(''), "completion": [cljs.core.str(p1__9612_SHARP_)].join('')};
}),cljs.core.keys.call(null,cljs.core.deref.call(null,lt.object.tags)));
}),new cljs.core.Keyword(null,"key","key",1014010321),lt.objs.command.completions], null);
lt.objs.langs.keymap.__BEH__keymap_hints = (function __BEH__keymap_hints(this$,hints,token){var comps = lt.objs.langs.keymap.completions.call(null,lt.objs.langs.keymap.pos__GT_state.call(null,this$));if(cljs.core.not.call(null,comps))
{return hints;
} else
{if(cljs.core.fn_QMARK_.call(null,comps))
{return comps.call(null,token);
} else
{return comps;
}
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","keymap-hints","lt.objs.langs.keymap/keymap-hints",592920276),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__keymap_hints,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hints+","hints+",4091697745),null], null), null),new cljs.core.Keyword(null,"exclusive","exclusive",2700522000),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("lt.plugins.auto-complete","textual-hints","lt.plugins.auto-complete/textual-hints",1172342809)], null));
lt.objs.langs.keymap.__BEH__show_info_on_move = (function __BEH__show_info_on_move(this$){var idx = lt.objs.langs.keymap.__GT_index.call(null,this$);var temp__4092__auto__ = lt.objs.langs.keymap.pos__GT_key.call(null,this$,idx);if(cljs.core.truth_(temp__4092__auto__))
{var beh = temp__4092__auto__;return lt.object.raise.call(null,lt.objs.langs.keymap.helper,new cljs.core.Keyword(null,"show!","show!",1123317814),this$,beh,lt.objs.langs.keymap.param_index.call(null,idx,new cljs.core.Keyword(null,"args","args",1016906831).cljs$core$IFn$_invoke$arity$1(beh)));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","show-info-on-move","lt.objs.langs.keymap/show-info-on-move",836516040),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__show_info_on_move,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"move","move",1017261891),null], null), null),new cljs.core.Keyword(null,"debounce","debounce",1556599227),200);
lt.objs.langs.keymap.__BEH__keymap_hint_pattern = (function __BEH__keymap_hint_pattern(this$){return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hint-pattern","hint-pattern",2825267644),/[\w\-\>\:\*\$\?\<\!\+\.\"\\/]/], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","keymap-hint-pattern","lt.objs.langs.keymap/keymap-hint-pattern",2903988014),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__keymap_hint_pattern,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"object.instant","object.instant",773332388),null], null), null));
lt.objs.langs.keymap.__BEH__on_changed = (function __BEH__on_changed(this$){return lt.objs.langs.keymap.parser.call(null,this$,lt.objs.editor.__GT_val.call(null,this$));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","on-changed","lt.objs.langs.keymap/on-changed",3532361178),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__on_changed,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"change","change",3947235106),null,new cljs.core.Keyword(null,"create","create",3956577390),null], null), null),new cljs.core.Keyword(null,"debounce","debounce",1556599227),50);
lt.objs.langs.keymap.__BEH__parsed = (function __BEH__parsed(this$,results){lt.object.merge_BANG_.call(null,this$,lt.util.cljs.js__GT_clj.call(null,results,new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",4191781672),true));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move","move",1017261891));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","parsed","lt.objs.langs.keymap/parsed",4292388517),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__parsed,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"parsed","parsed",4313460611),null], null), null));
lt.objs.langs.keymap.inline = (function inline(this$,ed,opts){return lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1807255869),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"ed","ed",1013907473),ed,new cljs.core.Keyword(null,"class","class",1108647146),"behavior-helper",new cljs.core.Keyword(null,"opts","opts",1017322386),opts,new cljs.core.Keyword(null,"result","result",4374444943),lt.object.__GT_content.call(null,this$),new cljs.core.Keyword(null,"above","above",1106515727),cljs.core.boolean$.call(null,(new cljs.core.Keyword(null,"prev-line","prev-line",4421028544).cljs$core$IFn$_invoke$arity$1(opts) < new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(opts))),new cljs.core.Keyword(null,"loc","loc",1014011570),opts,new cljs.core.Keyword(null,"line","line",1017226086),lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(opts))], null));
});
lt.objs.langs.keymap.__GT_helper = (function __GT_helper(keym){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",1013907516),new cljs.core.Keyword(null,"desc","desc",1016984067).cljs$core$IFn$_invoke$arity$2(keym,new cljs.core.Keyword(null,"command","command",1964298941).cljs$core$IFn$_invoke$arity$1(keym))], null),(cljs.core.truth_(new cljs.core.Keyword(null,"params","params",4313443576).cljs$core$IFn$_invoke$arity$1(keym))?(function (){var iter__4119__auto__ = (function iter__9623(s__9624){return (new cljs.core.LazySeq(null,(function (){var s__9624__$1 = s__9624;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__9624__$1);if(temp__4092__auto__)
{var s__9624__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__9624__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__9624__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__9626 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__9625 = 0;while(true){
if((i__9625 < size__4118__auto__))
{var p = cljs.core._nth.call(null,c__4117__auto__,i__9625);cljs.core.chunk_append.call(null,b__9626,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.Keyword(null,"label","label",1116631654).cljs$core$IFn$_invoke$arity$1(p),(cljs.core.truth_(new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre.example","pre.example",4358698129),new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p)], null):null)], null));
{
var G__9633 = (i__9625 + 1);
i__9625 = G__9633;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__9626),iter__9623.call(null,cljs.core.chunk_rest.call(null,s__9624__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__9626),null);
}
} else
{var p = cljs.core.first.call(null,s__9624__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.Keyword(null,"label","label",1116631654).cljs$core$IFn$_invoke$arity$1(p),(cljs.core.truth_(new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre.example","pre.example",4358698129),new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p)], null):null)], null),iter__9623.call(null,cljs.core.rest.call(null,s__9624__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,new cljs.core.Keyword(null,"params","params",4313443576).cljs$core$IFn$_invoke$arity$1(keym));
})():null)], null));var seq__9627_9634 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__9628_9635 = null;var count__9629_9636 = 0;var i__9630_9637 = 0;while(true){
if((i__9630_9637 < count__9629_9636))
{var vec__9631_9638 = cljs.core._nth.call(null,chunk__9628_9635,i__9630_9637);var ev__4336__auto___9639 = cljs.core.nth.call(null,vec__9631_9638,0,null);var func__4337__auto___9640 = cljs.core.nth.call(null,vec__9631_9638,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9639,func__4337__auto___9640);
{
var G__9641 = seq__9627_9634;
var G__9642 = chunk__9628_9635;
var G__9643 = count__9629_9636;
var G__9644 = (i__9630_9637 + 1);
seq__9627_9634 = G__9641;
chunk__9628_9635 = G__9642;
count__9629_9636 = G__9643;
i__9630_9637 = G__9644;
continue;
}
} else
{var temp__4092__auto___9645 = cljs.core.seq.call(null,seq__9627_9634);if(temp__4092__auto___9645)
{var seq__9627_9646__$1 = temp__4092__auto___9645;if(cljs.core.chunked_seq_QMARK_.call(null,seq__9627_9646__$1))
{var c__4150__auto___9647 = cljs.core.chunk_first.call(null,seq__9627_9646__$1);{
var G__9648 = cljs.core.chunk_rest.call(null,seq__9627_9646__$1);
var G__9649 = c__4150__auto___9647;
var G__9650 = cljs.core.count.call(null,c__4150__auto___9647);
var G__9651 = 0;
seq__9627_9634 = G__9648;
chunk__9628_9635 = G__9649;
count__9629_9636 = G__9650;
i__9630_9637 = G__9651;
continue;
}
} else
{var vec__9632_9652 = cljs.core.first.call(null,seq__9627_9646__$1);var ev__4336__auto___9653 = cljs.core.nth.call(null,vec__9632_9652,0,null);var func__4337__auto___9654 = cljs.core.nth.call(null,vec__9632_9652,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9653,func__4337__auto___9654);
{
var G__9655 = cljs.core.next.call(null,seq__9627_9646__$1);
var G__9656 = null;
var G__9657 = 0;
var G__9658 = 0;
seq__9627_9634 = G__9655;
chunk__9628_9635 = G__9656;
count__9629_9636 = G__9657;
i__9630_9637 = G__9658;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.langs.keymap.set_param = (function set_param(this$,idx){var lis = lt.util.dom.$$.call(null,"span",lt.object.__GT_content.call(null,this$));var seq__9663_9667 = cljs.core.seq.call(null,lis);var chunk__9664_9668 = null;var count__9665_9669 = 0;var i__9666_9670 = 0;while(true){
if((i__9666_9670 < count__9665_9669))
{var li_9671 = cljs.core._nth.call(null,chunk__9664_9668,i__9666_9670);lt.util.dom.remove_class.call(null,li_9671,new cljs.core.Keyword(null,"active","active",3885920888));
{
var G__9672 = seq__9663_9667;
var G__9673 = chunk__9664_9668;
var G__9674 = count__9665_9669;
var G__9675 = (i__9666_9670 + 1);
seq__9663_9667 = G__9672;
chunk__9664_9668 = G__9673;
count__9665_9669 = G__9674;
i__9666_9670 = G__9675;
continue;
}
} else
{var temp__4092__auto___9676 = cljs.core.seq.call(null,seq__9663_9667);if(temp__4092__auto___9676)
{var seq__9663_9677__$1 = temp__4092__auto___9676;if(cljs.core.chunked_seq_QMARK_.call(null,seq__9663_9677__$1))
{var c__4150__auto___9678 = cljs.core.chunk_first.call(null,seq__9663_9677__$1);{
var G__9679 = cljs.core.chunk_rest.call(null,seq__9663_9677__$1);
var G__9680 = c__4150__auto___9678;
var G__9681 = cljs.core.count.call(null,c__4150__auto___9678);
var G__9682 = 0;
seq__9663_9667 = G__9679;
chunk__9664_9668 = G__9680;
count__9665_9669 = G__9681;
i__9666_9670 = G__9682;
continue;
}
} else
{var li_9683 = cljs.core.first.call(null,seq__9663_9677__$1);lt.util.dom.remove_class.call(null,li_9683,new cljs.core.Keyword(null,"active","active",3885920888));
{
var G__9684 = cljs.core.next.call(null,seq__9663_9677__$1);
var G__9685 = null;
var G__9686 = 0;
var G__9687 = 0;
seq__9663_9667 = G__9684;
chunk__9664_9668 = G__9685;
count__9665_9669 = G__9686;
i__9666_9670 = G__9687;
continue;
}
}
} else
{}
}
break;
}
if(cljs.core.truth_(idx))
{return lt.util.dom.add_class.call(null,(lis[idx]),new cljs.core.Keyword(null,"active","active",3885920888));
} else
{return null;
}
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","helper","lt.objs.langs.keymap/helper",4251548354),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.keymap.helper","editor.keymap.helper",2159399120),null], null), null));
lt.objs.langs.keymap.__BEH__helper__DOT__show_BANG_ = (function __BEH__helper__DOT__show_BANG_(this$,ed,keym,param_idx){var loc = lt.objs.editor.__GT_cursor.call(null,ed);if((cljs.core.not_EQ_.call(null,keym,new cljs.core.Keyword(null,"key","key",1014010321).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))) || (cljs.core.not_EQ_.call(null,ed,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{if(cljs.core.truth_(new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{lt.object.raise.call(null,new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{}
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"content","content",1965434859),lt.objs.langs.keymap.__GT_helper.call(null,new cljs.core.Keyword(null,"command","command",1964298941).cljs$core$IFn$_invoke$arity$1(keym))], null));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"mark","mark",1017248319),lt.objs.langs.keymap.inline.call(null,this$,ed,cljs.core.assoc.call(null,loc,new cljs.core.Keyword(null,"prev-line","prev-line",4421028544),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))),new cljs.core.Keyword(null,"key","key",1014010321),keym,new cljs.core.Keyword(null,"line","line",1017226086),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"ed","ed",1013907473),ed], null));
} else
{}
return lt.objs.langs.keymap.set_param.call(null,this$,param_idx);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","helper.show!","lt.objs.langs.keymap/helper.show!",3924890652),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__helper__DOT__show_BANG_,new cljs.core.Keyword(null,"desc","desc",1016984067),"Keymap.helper: show",new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show!","show!",1123317814),null], null), null));
lt.objs.langs.keymap.helper = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","helper","lt.objs.langs.keymap/helper",4251548354));
