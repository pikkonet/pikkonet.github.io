// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.browser');
goog.require('cljs.core');
goog.require('crate.binding');
goog.require('lt.objs.menu');
goog.require('lt.objs.files');
goog.require('lt.util.dom');
goog.require('lt.objs.context');
goog.require('lt.objs.platform');
goog.require('lt.objs.tabs');
goog.require('crate.core');
goog.require('lt.objs.context');
goog.require('lt.objs.notifos');
goog.require('lt.objs.notifos');
goog.require('lt.util.dom');
goog.require('lt.objs.editor.pool');
goog.require('clojure.string');
goog.require('lt.objs.clients.devtools');
goog.require('lt.objs.command');
goog.require('lt.objs.platform');
goog.require('lt.objs.menu');
goog.require('lt.objs.files');
goog.require('lt.objs.sidebar.clients');
goog.require('lt.objs.eval');
goog.require('lt.objs.clients');
goog.require('clojure.string');
goog.require('lt.objs.clients.devtools');
goog.require('crate.binding');
goog.require('lt.objs.keyboard');
goog.require('lt.objs.editor');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.objs.console');
goog.require('lt.objs.tabs');
goog.require('lt.objs.editor');
goog.require('lt.objs.console');
goog.require('crate.core');
goog.require('lt.objs.eval');
goog.require('lt.objs.clients');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.sidebar.clients');
goog.require('lt.objs.command');
goog.require('lt.objs.keyboard');
lt.objs.browser.utils = (function (){var obj6911 = {};return obj6911;
})();
lttools = lt.objs.browser.utils;
lt.objs.browser.no_history_sites = new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, ["data:text/html,chromewebdata",null], null), null);
lt.objs.browser.check_http = (function check_http(url){if((cljs.core._EQ_.call(null,url.indexOf("http"),-1)) && (cljs.core._EQ_.call(null,url.indexOf("file://"),-1)))
{return [cljs.core.str("http://"),cljs.core.str(url)].join('');
} else
{return url;
}
});
lt.objs.browser.add_util = (function add_util(nme,fn){return (lt.objs.browser.utils[cljs.core.name.call(null,nme)] = fn);
});
lt.objs.browser.url_bar = (function url_bar(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.url-bar","input.url-bar",4150417411),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"url",new cljs.core.Keyword(null,"value","value",1125876963),crate.binding.bound.call(null,this$,new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084))], null)], null));var seq__6918_6924 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"browser.url-bar","browser.url-bar",537128289),this$);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
return lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"browser.url-bar","browser.url-bar",537128289));
})], null)));var chunk__6919_6925 = null;var count__6920_6926 = 0;var i__6921_6927 = 0;while(true){
if((i__6921_6927 < count__6920_6926))
{var vec__6922_6928 = cljs.core._nth.call(null,chunk__6919_6925,i__6921_6927);var ev__4336__auto___6929 = cljs.core.nth.call(null,vec__6922_6928,0,null);var func__4337__auto___6930 = cljs.core.nth.call(null,vec__6922_6928,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6929,func__4337__auto___6930);
{
var G__6931 = seq__6918_6924;
var G__6932 = chunk__6919_6925;
var G__6933 = count__6920_6926;
var G__6934 = (i__6921_6927 + 1);
seq__6918_6924 = G__6931;
chunk__6919_6925 = G__6932;
count__6920_6926 = G__6933;
i__6921_6927 = G__6934;
continue;
}
} else
{var temp__4092__auto___6935 = cljs.core.seq.call(null,seq__6918_6924);if(temp__4092__auto___6935)
{var seq__6918_6936__$1 = temp__4092__auto___6935;if(cljs.core.chunked_seq_QMARK_.call(null,seq__6918_6936__$1))
{var c__4150__auto___6937 = cljs.core.chunk_first.call(null,seq__6918_6936__$1);{
var G__6938 = cljs.core.chunk_rest.call(null,seq__6918_6936__$1);
var G__6939 = c__4150__auto___6937;
var G__6940 = cljs.core.count.call(null,c__4150__auto___6937);
var G__6941 = 0;
seq__6918_6924 = G__6938;
chunk__6919_6925 = G__6939;
count__6920_6926 = G__6940;
i__6921_6927 = G__6941;
continue;
}
} else
{var vec__6923_6942 = cljs.core.first.call(null,seq__6918_6936__$1);var ev__4336__auto___6943 = cljs.core.nth.call(null,vec__6923_6942,0,null);var func__4337__auto___6944 = cljs.core.nth.call(null,vec__6923_6942,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6943,func__4337__auto___6944);
{
var G__6945 = cljs.core.next.call(null,seq__6918_6936__$1);
var G__6946 = null;
var G__6947 = 0;
var G__6948 = 0;
seq__6918_6924 = G__6945;
chunk__6919_6925 = G__6946;
count__6920_6926 = G__6947;
i__6921_6927 = G__6948;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.backward = (function backward(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),"<"], null),"<"], null));var seq__6955_6961 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"back!","back!",1107397516));
})], null)));var chunk__6956_6962 = null;var count__6957_6963 = 0;var i__6958_6964 = 0;while(true){
if((i__6958_6964 < count__6957_6963))
{var vec__6959_6965 = cljs.core._nth.call(null,chunk__6956_6962,i__6958_6964);var ev__4336__auto___6966 = cljs.core.nth.call(null,vec__6959_6965,0,null);var func__4337__auto___6967 = cljs.core.nth.call(null,vec__6959_6965,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6966,func__4337__auto___6967);
{
var G__6968 = seq__6955_6961;
var G__6969 = chunk__6956_6962;
var G__6970 = count__6957_6963;
var G__6971 = (i__6958_6964 + 1);
seq__6955_6961 = G__6968;
chunk__6956_6962 = G__6969;
count__6957_6963 = G__6970;
i__6958_6964 = G__6971;
continue;
}
} else
{var temp__4092__auto___6972 = cljs.core.seq.call(null,seq__6955_6961);if(temp__4092__auto___6972)
{var seq__6955_6973__$1 = temp__4092__auto___6972;if(cljs.core.chunked_seq_QMARK_.call(null,seq__6955_6973__$1))
{var c__4150__auto___6974 = cljs.core.chunk_first.call(null,seq__6955_6973__$1);{
var G__6975 = cljs.core.chunk_rest.call(null,seq__6955_6973__$1);
var G__6976 = c__4150__auto___6974;
var G__6977 = cljs.core.count.call(null,c__4150__auto___6974);
var G__6978 = 0;
seq__6955_6961 = G__6975;
chunk__6956_6962 = G__6976;
count__6957_6963 = G__6977;
i__6958_6964 = G__6978;
continue;
}
} else
{var vec__6960_6979 = cljs.core.first.call(null,seq__6955_6973__$1);var ev__4336__auto___6980 = cljs.core.nth.call(null,vec__6960_6979,0,null);var func__4337__auto___6981 = cljs.core.nth.call(null,vec__6960_6979,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6980,func__4337__auto___6981);
{
var G__6982 = cljs.core.next.call(null,seq__6955_6973__$1);
var G__6983 = null;
var G__6984 = 0;
var G__6985 = 0;
seq__6955_6961 = G__6982;
chunk__6956_6962 = G__6983;
count__6957_6963 = G__6984;
i__6958_6964 = G__6985;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.forward = (function forward(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),">"], null),">"], null));var seq__6992_6998 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"forward!","forward!",1497217390));
})], null)));var chunk__6993_6999 = null;var count__6994_7000 = 0;var i__6995_7001 = 0;while(true){
if((i__6995_7001 < count__6994_7000))
{var vec__6996_7002 = cljs.core._nth.call(null,chunk__6993_6999,i__6995_7001);var ev__4336__auto___7003 = cljs.core.nth.call(null,vec__6996_7002,0,null);var func__4337__auto___7004 = cljs.core.nth.call(null,vec__6996_7002,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7003,func__4337__auto___7004);
{
var G__7005 = seq__6992_6998;
var G__7006 = chunk__6993_6999;
var G__7007 = count__6994_7000;
var G__7008 = (i__6995_7001 + 1);
seq__6992_6998 = G__7005;
chunk__6993_6999 = G__7006;
count__6994_7000 = G__7007;
i__6995_7001 = G__7008;
continue;
}
} else
{var temp__4092__auto___7009 = cljs.core.seq.call(null,seq__6992_6998);if(temp__4092__auto___7009)
{var seq__6992_7010__$1 = temp__4092__auto___7009;if(cljs.core.chunked_seq_QMARK_.call(null,seq__6992_7010__$1))
{var c__4150__auto___7011 = cljs.core.chunk_first.call(null,seq__6992_7010__$1);{
var G__7012 = cljs.core.chunk_rest.call(null,seq__6992_7010__$1);
var G__7013 = c__4150__auto___7011;
var G__7014 = cljs.core.count.call(null,c__4150__auto___7011);
var G__7015 = 0;
seq__6992_6998 = G__7012;
chunk__6993_6999 = G__7013;
count__6994_7000 = G__7014;
i__6995_7001 = G__7015;
continue;
}
} else
{var vec__6997_7016 = cljs.core.first.call(null,seq__6992_7010__$1);var ev__4336__auto___7017 = cljs.core.nth.call(null,vec__6997_7016,0,null);var func__4337__auto___7018 = cljs.core.nth.call(null,vec__6997_7016,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7017,func__4337__auto___7018);
{
var G__7019 = cljs.core.next.call(null,seq__6992_7010__$1);
var G__7020 = null;
var G__7021 = 0;
var G__7022 = 0;
seq__6992_6998 = G__7019;
chunk__6993_6999 = G__7020;
count__6994_7000 = G__7021;
i__6995_7001 = G__7022;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.refresh = (function refresh(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),"re"], null),"\u21BA"], null));var seq__7029_7035 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
})], null)));var chunk__7030_7036 = null;var count__7031_7037 = 0;var i__7032_7038 = 0;while(true){
if((i__7032_7038 < count__7031_7037))
{var vec__7033_7039 = cljs.core._nth.call(null,chunk__7030_7036,i__7032_7038);var ev__4336__auto___7040 = cljs.core.nth.call(null,vec__7033_7039,0,null);var func__4337__auto___7041 = cljs.core.nth.call(null,vec__7033_7039,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7040,func__4337__auto___7041);
{
var G__7042 = seq__7029_7035;
var G__7043 = chunk__7030_7036;
var G__7044 = count__7031_7037;
var G__7045 = (i__7032_7038 + 1);
seq__7029_7035 = G__7042;
chunk__7030_7036 = G__7043;
count__7031_7037 = G__7044;
i__7032_7038 = G__7045;
continue;
}
} else
{var temp__4092__auto___7046 = cljs.core.seq.call(null,seq__7029_7035);if(temp__4092__auto___7046)
{var seq__7029_7047__$1 = temp__4092__auto___7046;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7029_7047__$1))
{var c__4150__auto___7048 = cljs.core.chunk_first.call(null,seq__7029_7047__$1);{
var G__7049 = cljs.core.chunk_rest.call(null,seq__7029_7047__$1);
var G__7050 = c__4150__auto___7048;
var G__7051 = cljs.core.count.call(null,c__4150__auto___7048);
var G__7052 = 0;
seq__7029_7035 = G__7049;
chunk__7030_7036 = G__7050;
count__7031_7037 = G__7051;
i__7032_7038 = G__7052;
continue;
}
} else
{var vec__7034_7053 = cljs.core.first.call(null,seq__7029_7047__$1);var ev__4336__auto___7054 = cljs.core.nth.call(null,vec__7034_7053,0,null);var func__4337__auto___7055 = cljs.core.nth.call(null,vec__7034_7053,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7054,func__4337__auto___7055);
{
var G__7056 = cljs.core.next.call(null,seq__7029_7047__$1);
var G__7057 = null;
var G__7058 = 0;
var G__7059 = 0;
seq__7029_7035 = G__7056;
chunk__7030_7036 = G__7057;
count__7031_7037 = G__7058;
i__7032_7038 = G__7059;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.iframe = (function iframe(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"iframe","iframe",4117657110),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"src","src",1014018390),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"url","url",1014020321))),new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.browser.browser_id.call(null,this$),new cljs.core.Keyword(null,"nwfaketop","nwfaketop",4208439145),"true",new cljs.core.Keyword(null,"nwdisable","nwdisable",2669716593),"true"], null)], null));var seq__7066_7072 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
})], null)));var chunk__7067_7073 = null;var count__7068_7074 = 0;var i__7069_7075 = 0;while(true){
if((i__7069_7075 < count__7068_7074))
{var vec__7070_7076 = cljs.core._nth.call(null,chunk__7067_7073,i__7069_7075);var ev__4336__auto___7077 = cljs.core.nth.call(null,vec__7070_7076,0,null);var func__4337__auto___7078 = cljs.core.nth.call(null,vec__7070_7076,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7077,func__4337__auto___7078);
{
var G__7079 = seq__7066_7072;
var G__7080 = chunk__7067_7073;
var G__7081 = count__7068_7074;
var G__7082 = (i__7069_7075 + 1);
seq__7066_7072 = G__7079;
chunk__7067_7073 = G__7080;
count__7068_7074 = G__7081;
i__7069_7075 = G__7082;
continue;
}
} else
{var temp__4092__auto___7083 = cljs.core.seq.call(null,seq__7066_7072);if(temp__4092__auto___7083)
{var seq__7066_7084__$1 = temp__4092__auto___7083;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7066_7084__$1))
{var c__4150__auto___7085 = cljs.core.chunk_first.call(null,seq__7066_7084__$1);{
var G__7086 = cljs.core.chunk_rest.call(null,seq__7066_7084__$1);
var G__7087 = c__4150__auto___7085;
var G__7088 = cljs.core.count.call(null,c__4150__auto___7085);
var G__7089 = 0;
seq__7066_7072 = G__7086;
chunk__7067_7073 = G__7087;
count__7068_7074 = G__7088;
i__7069_7075 = G__7089;
continue;
}
} else
{var vec__7071_7090 = cljs.core.first.call(null,seq__7066_7084__$1);var ev__4336__auto___7091 = cljs.core.nth.call(null,vec__7071_7090,0,null);var func__4337__auto___7092 = cljs.core.nth.call(null,vec__7071_7090,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7091,func__4337__auto___7092);
{
var G__7093 = cljs.core.next.call(null,seq__7066_7084__$1);
var G__7094 = null;
var G__7095 = 0;
var G__7096 = 0;
seq__7066_7072 = G__7093;
chunk__7067_7073 = G__7094;
count__7068_7074 = G__7095;
i__7069_7075 = G__7096;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.browser_id = (function browser_id(this$){return [cljs.core.str("browser"),cljs.core.str(lt.object.__GT_id.call(null,this$))].join('');
});
lt.objs.browser.to_frame = (function to_frame(this$){var id = ((typeof this$ === 'string')?this$:lt.objs.browser.browser_id.call(null,this$));return (window.frames[id]);
});
lt.objs.browser.handle_cb = (function handle_cb(cbid,command,data){return lt.object.raise.call(null,lt.objs.clients.clients,new cljs.core.Keyword(null,"message","message",1968829305),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cbid,command,data], null));
});
lt.objs.browser.connect_client = (function connect_client(this$){return lt.objs.clients.handle_connection_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1017277949),new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"frame","frame",1111596255),this$,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733),lt.objs.browser.browser_id.call(null,this$),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"frame.client","frame.client",2018369246)], null),new cljs.core.Keyword(null,"commands","commands",4706336250),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"editor.eval.cljs.exec","editor.eval.cljs.exec",866638030),null,new cljs.core.Keyword(null,"editor.eval.css","editor.eval.css",1083014276),null,new cljs.core.Keyword(null,"editor.eval.js","editor.eval.js",1847417804),null,new cljs.core.Keyword(null,"editor.eval.html","editor.eval.html",3156465134),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"frame","frame",1111596255)], null));
});
lt.objs.browser.add = (function add(){var browser = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.browser","browser","lt.objs.browser/browser",1401265285));lt.objs.tabs.add_BANG_.call(null,browser);
lt.objs.tabs.active_BANG_.call(null,browser);
return browser;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","browser","lt.objs.browser/browser",1401265285),new cljs.core.Keyword(null,"name","name",1017277949),"browser",new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"browser","browser",1164844698),null], null), null),new cljs.core.Keyword(null,"history","history",1940838406),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"history-pos","history-pos",1364759821),-1,new cljs.core.Keyword(null,"url","url",1014020321),"about:blank",new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084),"about:blank",new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"client","client",3951159101),lt.objs.browser.connect_client.call(null,this$)], null));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#browser","div#browser",741844136),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.frame-shade","div.frame-shade",4348666722)], null),lt.objs.browser.iframe.call(null,this$),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav","nav",1014013077),lt.objs.browser.backward.call(null,this$),lt.objs.browser.forward.call(null,this$),lt.objs.browser.url_bar.call(null,this$),lt.objs.browser.refresh.call(null,this$)], null)], null);
}));
lt.objs.browser.__BEH__destroy_on_close = (function __BEH__destroy_on_close(this$){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
return lt.object.destroy_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","destroy-on-close","lt.objs.browser/destroy-on-close",2232797874),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__destroy_on_close,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close","close",1108660586),null], null), null));
lt.objs.browser.__BEH__rem_client = (function __BEH__rem_client(this$){if(cljs.core._EQ_.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959)),this$))
{lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959));
} else
{}
var temp__4092__auto___7097 = cljs.core.first.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.fromArray([this$], true),lt.object.by_tag.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698))));if(cljs.core.truth_(temp__4092__auto___7097))
{var b_7098 = temp__4092__auto___7097;lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959),b_7098);
} else
{}
return lt.objs.clients.rem_BANG_.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","rem-client","lt.objs.browser/rem-client",3433438675),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__rem_client,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"destroy","destroy",2571277164),null], null), null));
lt.objs.browser.__BEH__navigate_BANG_ = (function __BEH__navigate_BANG_(this$,n){var bar = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));var frame = lt.objs.browser.to_frame.call(null,this$);var url = lt.objs.browser.check_http.call(null,(function (){var or__3408__auto__ = n;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.util.dom.val.call(null,bar);
}
})());lt.objs.notifos.working.call(null);
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"url","url",1014020321),url,new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084),url,new cljs.core.Keyword(null,"loading-counter","loading-counter",2714046941),(new cljs.core.Keyword(null,"loading-counter","loading-counter",2714046941).cljs$core$IFn$_invoke$arity$2(cljs.core.deref.call(null,this$),0) + 1)], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","navigate!","lt.objs.browser/navigate!",803576413),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__navigate_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),null], null), null));
lt.objs.browser.__BEH__store_history = (function __BEH__store_history(this$,loc){if((cljs.core.not.call(null,lt.objs.browser.no_history_sites.call(null,loc))) && (cljs.core.not_EQ_.call(null,loc,cljs.core.get.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))))
{if(!(cljs.core._EQ_.call(null,(cljs.core.count.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))) - 1),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"history","history",1940838406),cljs.core.conj.call(null,cljs.core.subvec.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),0,(new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)) + 1)),loc)], null));
} else
{lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history","history",1940838406)], null),cljs.core.conj,loc);
}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history-pos","history-pos",1364759821)], null),cljs.core.inc);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","store-history","lt.objs.browser/store-history",2022676741),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__store_history,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"navigate","navigate",3116398819),null], null), null));
lt.objs.browser.__BEH__url_focus_BANG_ = (function __BEH__url_focus_BANG_(this$){var url_input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));lt.util.dom.focus.call(null,url_input);
return url_input.select();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","url-focus!","lt.objs.browser/url-focus!",3402432972),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__url_focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"url.focus!","url.focus!",4046450458),null], null), null));
lt.objs.browser.__BEH__focus_BANG_ = (function __BEH__focus_BANG_(this$){return lt.util.dom.focus.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"iframe","iframe",4117657110),lt.object.__GT_content.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","focus!","lt.objs.browser/focus!",3058401254),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",4039653819),null], null), null));
lt.objs.browser.__BEH__back_BANG_ = (function __BEH__back_BANG_(this$){var frame = lt.objs.browser.to_frame.call(null,this$);if((new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)) > 0))
{lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history-pos","history-pos",1364759821)], null),cljs.core.dec);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),cljs.core.get.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","back!","lt.objs.browser/back!",1427460503),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__back_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"back!","back!",1107397516),null], null), null));
lt.objs.browser.__BEH__forward_BANG_ = (function __BEH__forward_BANG_(this$){var frame = lt.objs.browser.to_frame.call(null,this$);if((new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)) < (cljs.core.count.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))) - 1)))
{lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history-pos","history-pos",1364759821)], null),cljs.core.inc);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),cljs.core.get.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","forward!","lt.objs.browser/forward!",533790641),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__forward_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"forward!","forward!",1497217390),null], null), null));
lt.objs.browser.__BEH__refresh_BANG_ = (function __BEH__refresh_BANG_(this$){var frame = lt.objs.browser.to_frame.call(null,this$);return frame.location.reload();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","refresh!","lt.objs.browser/refresh!",1696987659),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__refresh_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"refresh!","refresh!",4597922840),null], null), null));
lt.objs.browser.__BEH__menu_BANG_ = (function __BEH__menu_BANG_(this$,e){var items_7099 = cljs.core.sort_by.call(null,new cljs.core.Keyword(null,"order","order",1119910592),lt.object.raise_reduce.call(null,this$,new cljs.core.Keyword(null,"menu+","menu+",1117686302),cljs.core.PersistentVector.EMPTY));lt.objs.menu.show_menu.call(null,lt.objs.menu.menu.call(null,items_7099),e.clientX,e.clientY);
lt.util.dom.prevent.call(null,e);
return lt.util.dom.stop_propagation.call(null,e);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","menu!","lt.objs.browser/menu!",1421234191),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__menu_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu!","menu!",1117686292),null], null), null));
lt.objs.browser.__BEH__menu_PLUS_ = (function __BEH__menu_PLUS_(this$,menu){return cljs.core.conj.call(null,menu,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"forward",new cljs.core.Keyword(null,"order","order",1119910592),0,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"browser.forward","browser.forward",4326300017));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"back",new cljs.core.Keyword(null,"order","order",1119910592),1,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"browser.back","browser.back",2720710495));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"separator",new cljs.core.Keyword(null,"order","order",1119910592),2], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"copy",new cljs.core.Keyword(null,"order","order",1119910592),3,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.browser.to_frame.call(null,this$).document.execCommand("copy");
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"paste",new cljs.core.Keyword(null,"order","order",1119910592),4,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.browser.to_frame.call(null,this$).document.execCommand("paste");
})], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","menu+","lt.objs.browser/menu+",1421234177),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__menu_PLUS_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",1117686302),null], null), null));
lt.objs.browser.__BEH__window_load_click_handler = (function __BEH__window_load_click_handler(this$,window,loc){window.document.addEventListener("blur",(function (e){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437),e);
}));
window.document.addEventListener("contextmenu",(function (e){if(cljs.core.truth_(e.defaultPrevented))
{return null;
} else
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}
}));
return window.document.addEventListener("click",(function (e){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
if(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core._EQ_.call(null,e.target.nodeName,"A");if(and__3396__auto__)
{var or__3408__auto__ = (function (){var and__3396__auto____$1 = lt.objs.platform.mac_QMARK_.call(null);if(and__3396__auto____$1)
{return e.metaKey;
} else
{return and__3396__auto____$1;
}
})();if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return e.ctrlKey;
}
} else
{return and__3396__auto__;
}
})()))
{e.preventDefault();
e.stopPropagation();
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910),e.target.href);
} else
{return null;
}
}));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","window-load-click-handler","lt.objs.browser/window-load-click-handler",755814872),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__window_load_click_handler,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),null], null), null));
lt.objs.browser.__BEH__window_load_key_handler = (function __BEH__window_load_key_handler(this$,window,loc){var script = window.document.createElement("script");script.type = "text/javascript";
script.innerHTML = new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(lt.objs.files.open_sync.call(null,"core/node_modules/lighttable/util/keyevents.js"));
window.document.head.appendChild(script);
return ((window["Mousetrap"])["handleKey"] = (function (key,char$,e){if(cljs.core.truth_(lt.objs.keyboard.capture.call(null,key,char$,e)))
{lt.util.dom.prevent.call(null,e);
return lt.util.dom.stop_propagation.call(null,e);
} else
{return null;
}
}));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","window-load-key-handler","lt.objs.browser/window-load-key-handler",2857339135),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__window_load_key_handler,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),null], null), null));
lt.objs.browser.__BEH__window_load_lttools = (function __BEH__window_load_lttools(this$,window,loc){return window.lttools = lt.objs.browser.utils;
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","window-load-lttools","lt.objs.browser/window-load-lttools",3501278086),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__window_load_lttools,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),null], null), null));
lt.objs.browser.__BEH__init_BANG_ = (function __BEH__init_BANG_(this$){var frame = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"iframe","iframe",4117657110),lt.object.__GT_content.call(null,this$));var bar = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));return frame.onload = (function (){var loc = frame.contentWindow.location.href;lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),frame.contentWindow,loc);
frame.contentWindow.onhashchange = (function (){return lt.util.dom.val.call(null,bar,frame.contentWindow.location.href);
});
lt.objs.clients.devtools.clear_scripts_BANG_.call(null);
lt.util.dom.val.call(null,bar,loc);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"navigate","navigate",3116398819),loc);
});
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","init!","lt.objs.browser/init!",1417774750),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__init_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.browser.__BEH__set_client_name = (function __BEH__set_client_name(this$,loc){var title = lt.objs.browser.to_frame.call(null,this$).document.title;var title__$1 = ((!(cljs.core.empty_QMARK_.call(null,title)))?title:"browser");lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"name","name",1017277949),title__$1], null));
lt.objs.tabs.refresh_BANG_.call(null,this$);
var n__4250__auto___7100 = new cljs.core.Keyword(null,"loading-counter","loading-counter",2714046941).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var x_7101 = 0;while(true){
if((x_7101 < n__4250__auto___7100))
{lt.objs.notifos.done_working.call(null);
{
var G__7102 = (x_7101 + 1);
x_7101 = G__7102;
continue;
}
} else
{}
break;
}
return lt.object.merge_BANG_.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"name","name",1017277949),loc], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","set-client-name","lt.objs.browser/set-client-name",1645431759),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__set_client_name,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"navigate","navigate",3116398819),null], null), null));
lt.objs.browser.__BEH__set_active = (function __BEH__set_active(this$){return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959),this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","set-active","lt.objs.browser/set-active",4650437726),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__set_active,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"active","active",3885920888),null,new cljs.core.Keyword(null,"show","show",1017433711),null], null), null));
lt.objs.browser.__BEH__active_context = (function __BEH__active_context(this$){return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698),this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","active-context","lt.objs.browser/active-context",1990046533),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__active_context,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"active","active",3885920888),null,new cljs.core.Keyword(null,"show","show",1017433711),null], null), null));
lt.objs.browser.__BEH__focus_on_show = (function __BEH__focus_on_show(this$){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","focus-on-show","lt.objs.browser/focus-on-show",650060667),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__focus_on_show,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show","show",1017433711),null], null), null));
lt.objs.browser.__BEH__inactive_context = (function __BEH__inactive_context(this$){return lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","inactive-context","lt.objs.browser/inactive-context",1464142818),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__inactive_context,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"inactive","inactive",1038569437),null], null), null));
lt.objs.browser.__BEH__handle_send_BANG_ = (function __BEH__handle_send_BANG_(this$,msg){return lt.object.raise.call(null,this$,cljs.core.keyword.call(null,[cljs.core.str(new cljs.core.Keyword(null,"command","command",1964298941).cljs$core$IFn$_invoke$arity$1(msg)),cljs.core.str("!")].join('')),msg);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","handle-send!","lt.objs.browser/handle-send!",4165361401),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__handle_send_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"send!","send!",1123226891),null], null), null));
lt.objs.browser.__BEH__handle_refresh_BANG_ = (function __BEH__handle_refresh_BANG_(this$){return lt.object.raise.call(null,new cljs.core.Keyword(null,"frame","frame",1111596255).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","handle-refresh!","lt.objs.browser/handle-refresh!",2985065480),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__handle_refresh_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"client.refresh!","client.refresh!",1210437339),null], null), null));
lt.objs.browser.__BEH__handle_close_BANG_ = (function __BEH__handle_close_BANG_(this$){lt.object.raise.call(null,new cljs.core.Keyword(null,"frame","frame",1111596255).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"close","close",1108660586));
return lt.objs.clients.rem_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","handle-close!","lt.objs.browser/handle-close!",2176426435),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__handle_close_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"client.close!","client.close!",582466590),null], null), null));
lt.objs.browser.__BEH__change_live = (function __BEH__change_live(this$,msg){var temp__4092__auto__ = lt.objs.clients.cb__GT_obj.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;if(cljs.core.truth_(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg))))
{return lt.objs.clients.devtools.changelive_BANG_.call(null,ed,new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)),lt.plugins.watches.watched_range(ed,null,null,lt.objs.langs.js.src__GT_watch),(function (res){return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"editor.eval.js.change-live.success","editor.eval.js.change-live.success",2994410460));
}),cljs.core.identity);
} else
{return null;
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","change-live","lt.objs.browser/change-live",2720093766),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__change_live,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.js.change-live!","editor.eval.js.change-live!",3424692446),null], null), null));
lt.objs.browser.__BEH__js_eval_file = (function __BEH__js_eval_file(this$,msg,cb){var temp__4092__auto__ = lt.objs.clients.cb__GT_obj.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var data = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var data__$1 = cljs.core.assoc.call(null,data,new cljs.core.Keyword(null,"code","code",1016963423),[cljs.core.str(new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(data)),cljs.core.str("\n\n//# sourceURL="),cljs.core.str(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(data))].join(''));return lt.objs.clients.devtools.eval_in_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),data__$1,(function (res){if(cljs.core.truth_(cb))
{cb.call(null);
} else
{}
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"editor.eval.js.file.success","editor.eval.js.file.success",4272529943));
}));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","js-eval-file","lt.objs.browser/js-eval-file",817287718),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__js_eval_file,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.js.file!","editor.eval.js.file!",1760417539),null], null), null));
lt.objs.browser.__BEH__html_eval = (function __BEH__html_eval(this$,msg){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"client.refresh!","client.refresh!",1210437339));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","html-eval","lt.objs.browser/html-eval",3721717555),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__html_eval,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.html!","editor.eval.html!",3008782487),null], null), null));
lt.objs.browser.__BEH__css_eval = (function __BEH__css_eval(this$,msg){var info = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var frame = lt.objs.browser.to_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var node_name = clojure.string.replace.call(null,new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(info),/\./,"-");var node = frame.document.querySelector([cljs.core.str("#"),cljs.core.str(node_name)].join(''));var neue = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"text/css",new cljs.core.Keyword(null,"id","id",1013907597),node_name], null),new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(info)], null));if(cljs.core.truth_(node))
{lt.util.dom.remove.call(null,node);
return lt.util.dom.append.call(null,frame.document.head,neue);
} else
{var links = frame.document.querySelectorAll("link");var node__$1 = cljs.core.first.call(null,cljs.core.filter.call(null,((function (links){
return (function (p1__7103_SHARP_){return (lt.util.dom.attr.call(null,p1__7103_SHARP_,new cljs.core.Keyword(null,"href","href",1017115293)).indexOf(new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(info)) > -1);
});})(links))
,lt.util.dom.lazy_nl_via_item.call(null,links)));if(cljs.core.truth_(node__$1))
{lt.util.dom.remove.call(null,node__$1);
} else
{}
return lt.util.dom.append.call(null,frame.document.head,neue);
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","css-eval","lt.objs.browser/css-eval",2220805003),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__css_eval,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.css!","editor.eval.css!",3156315329),null], null), null));
lt.objs.browser.__BEH__cljs_exec = (function __BEH__cljs_exec(this$,msg){var frame_id = new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var frame = lt.objs.browser.to_frame.call(null,frame_id);var window = lt.objs.clients.devtools.get_frame_window.call(null,frame_id);var info = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var seq__7110 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"results","results",2111450984).cljs$core$IFn$_invoke$arity$1(info));var chunk__7111 = null;var count__7112 = 0;var i__7113 = 0;while(true){
if((i__7113 < count__7112))
{var form = cljs.core._nth.call(null,chunk__7111,i__7113);try{lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.result","editor.eval.cljs.result",1580065178),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"result","result",4374444943),cljs.core.pr_str.call(null,window.eval.call(window,clojure.string.replace.call(null,new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(form),")goog",")\ngoog"))),new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}catch (e7114){var e_7116 = e7114;lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.exception","editor.eval.cljs.exception",4479049174),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"ex","ex",1013907493),e_7116,new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}{
var G__7117 = seq__7110;
var G__7118 = chunk__7111;
var G__7119 = count__7112;
var G__7120 = (i__7113 + 1);
seq__7110 = G__7117;
chunk__7111 = G__7118;
count__7112 = G__7119;
i__7113 = G__7120;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__7110);if(temp__4092__auto__)
{var seq__7110__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7110__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__7110__$1);{
var G__7121 = cljs.core.chunk_rest.call(null,seq__7110__$1);
var G__7122 = c__4150__auto__;
var G__7123 = cljs.core.count.call(null,c__4150__auto__);
var G__7124 = 0;
seq__7110 = G__7121;
chunk__7111 = G__7122;
count__7112 = G__7123;
i__7113 = G__7124;
continue;
}
} else
{var form = cljs.core.first.call(null,seq__7110__$1);try{lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.result","editor.eval.cljs.result",1580065178),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"result","result",4374444943),cljs.core.pr_str.call(null,window.eval.call(window,clojure.string.replace.call(null,new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(form),")goog",")\ngoog"))),new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}catch (e7115){var e_7125 = e7115;lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.exception","editor.eval.cljs.exception",4479049174),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"ex","ex",1013907493),e_7125,new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}{
var G__7126 = cljs.core.next.call(null,seq__7110__$1);
var G__7127 = null;
var G__7128 = 0;
var G__7129 = 0;
seq__7110 = G__7126;
chunk__7111 = G__7127;
count__7112 = G__7128;
i__7113 = G__7129;
continue;
}
}
} else
{return null;
}
}
break;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","cljs-exec","lt.objs.browser/cljs-exec",1664374689),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__cljs_exec,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.cljs.exec!","editor.eval.cljs.exec!",743618999),null], null), null));
lt.objs.browser.eval_js_form = (function eval_js_form(this$,msg){var data = cljs.core.assoc.call(null,new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"code","code",1016963423),lt.objs.eval.append_source_file.call(null,new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)),new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg))));lt.objs.clients.devtools.eval_in_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),data,(function (res){var result = lt.objs.clients.devtools.inspector__GT_result.call(null,res);var req = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var result__$1 = cljs.core.assoc.call(null,result,new cljs.core.Keyword(null,"meta","meta",1017252215),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(req),new cljs.core.Keyword(null,"no-inspect","no-inspect",887813498),true);if(cljs.core.not.call(null,new cljs.core.Keyword(null,"ex","ex",1013907493).cljs$core$IFn$_invoke$arity$1(result__$1)))
{return lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.js.result","editor.eval.js.result",3021062051),result__$1);
} else
{return lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.js.exception","editor.eval.js.exception",723801901),result__$1);
}
}));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"editor.eval.js.change-live!","editor.eval.js.change-live!",3424692446),msg);
});
lt.objs.browser.must_eval_file_QMARK_ = (function must_eval_file_QMARK_(msg){if(cljs.core.truth_(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg))))
{return (cljs.core.not.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)))) || (cljs.core.not.call(null,lt.objs.clients.devtools.find_script.call(null,lt.objs.clients.devtools.local,new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)))));
} else
{return null;
}
});
lt.objs.browser.__BEH__js_eval = (function __BEH__js_eval(this$,msg){if(cljs.core.truth_(lt.objs.browser.must_eval_file_QMARK_.call(null,msg)))
{var temp__4092__auto__ = lt.object.by_id.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var data = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var data__$1 = cljs.core.assoc.call(null,data,new cljs.core.Keyword(null,"code","code",1016963423),[cljs.core.str(lt.objs.editor.__GT_val.call(null,ed)),cljs.core.str("\n\n//# sourceURL="),cljs.core.str(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(data))].join(''));return lt.objs.clients.devtools.eval_in_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),data__$1,(function (res){return lt.objs.browser.eval_js_form.call(null,this$,msg);
}));
} else
{return null;
}
} else
{return lt.objs.browser.eval_js_form.call(null,this$,msg);
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","js-eval","lt.objs.browser/js-eval",3158449165),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__js_eval,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.js!","editor.eval.js!",1083020921),null], null), null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.url-bar.navigate!","browser.url-bar.navigate!",1014303491),new cljs.core.Keyword(null,"desc","desc",1016984067),"BrowserUrlBar: navigate to location",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (loc){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser.url-bar","browser.url-bar",537128289));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),loc);
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.url-bar.focus","browser.url-bar.focus",3353788299),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: focus url",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (loc){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"url.focus!","url.focus!",4046450458));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.focus-content","browser.focus-content",1148241840),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: focus content",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.back","browser.back",2720710495),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: back",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"back!","back!",1107397516));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.forward","browser.forward",4326300017),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: forward",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"forward!","forward!",1497217390));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: add browser tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (loc){var b = lt.objs.browser.add.call(null);if(cljs.core.not.call(null,loc))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
} else
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),loc);
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"refresh-connected-browser","refresh-connected-browser",3935980900),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: refresh active browser tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"editor.open-current-file-in-browser","editor.open-current-file-in-browser",1439718637),new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Open current file in browser",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var b = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959));var ed = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_((function (){var and__3396__auto__ = ed;if(cljs.core.truth_(and__3396__auto__))
{return new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"info","info",1017141280).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));
} else
{return and__3396__auto__;
}
})()))
{if(cljs.core.truth_(b))
{} else
{lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910));
}
return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959)),new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),[cljs.core.str("file://"),cljs.core.str(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"info","info",1017141280).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))))].join(''));
} else
{return null;
}
})], null));
lt.objs.sidebar.clients.add_connector.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1017277949),"Browser",new cljs.core.Keyword(null,"desc","desc",1016984067),"Open a browser tab to eval JavaScript, CSS, and HTML live.",new cljs.core.Keyword(null,"connect","connect",1965255772),(function (){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910));
})], null));
