// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.statusbar');
goog.require('cljs.core');
goog.require('crate.binding');
goog.require('lt.util.dom');
goog.require('lt.objs.tabs');
goog.require('lt.util.cljs');
goog.require('lt.util.dom');
goog.require('lt.objs.canvas');
goog.require('lt.util.cljs');
goog.require('lt.objs.command');
goog.require('lt.objs.bottombar');
goog.require('crate.binding');
goog.require('lt.objs.editor');
goog.require('lt.objs.canvas');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.objs.tabs');
goog.require('lt.objs.bottombar');
goog.require('lt.objs.command');
goog.require('lt.objs.editor');
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar-container","lt.objs.statusbar/statusbar-container",2425546359),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"statusbar-container","statusbar-container",1596722183),null], null), null),new cljs.core.Keyword(null,"items","items",1114430258),cljs.core.sorted_set_by.call(null,(function (p1__12204_SHARP_){return new cljs.core.Keyword(null,"order","order",1119910592).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,p1__12204_SHARP_));
})),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#statusbar-container","div#statusbar-container",4312198421)], null);
}));
lt.objs.statusbar.container = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar-container","lt.objs.statusbar/statusbar-container",2425546359));
/**
* Add an object to the statusbar container. When you wish the object to be displayed or hidden,
* raise :show! or :hide! respectively. Objects must have :order and :height keys in order to determine
* the space required for the object.
*/
lt.objs.statusbar.add_container = (function add_container(obj){lt.object.add_tags.call(null,obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"statusbar-container-item","statusbar-container-item",1024363709)], null));
lt.object.update_BANG_.call(null,lt.objs.statusbar.container,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"items","items",1114430258)], null),cljs.core.conj,obj);
var i = lt.util.cljs.index_of.call(null,obj,new cljs.core.Keyword(null,"items","items",1114430258).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.statusbar.container)));if(cljs.core._EQ_.call(null,i,0))
{return lt.util.dom.prepend.call(null,lt.object.__GT_content.call(null,lt.objs.statusbar.container),lt.object.__GT_content.call(null,obj));
} else
{return lt.util.dom.after.call(null,lt.object.__GT_content.call(null,cljs.core.get.call(null,new cljs.core.Keyword(null,"items","items",1114430258).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.statusbar.container)),i)),lt.object.__GT_content.call(null,obj));
}
});
lt.objs.statusbar.__BEH__on_show_BANG_ = (function __BEH__on_show_BANG_(this$){if(cljs.core.truth_(new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",1816687083).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{return null;
} else
{lt.util.dom.css.call(null,lt.object.__GT_content.call(null,this$),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"height","height",4087841945),new cljs.core.Keyword(null,"height","height",4087841945).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))], null));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",1816687083),true], null));
return lt.object.raise.call(null,lt.objs.tabs.multi,new cljs.core.Keyword(null,"tabset-bottom!","tabset-bottom!",2684870056),new cljs.core.Keyword(null,"height","height",4087841945).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","on-show!","lt.objs.statusbar/on-show!",2528540082),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.statusbar.__BEH__on_show_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show!","show!",1123317814),null], null), null));
lt.objs.statusbar.__BEH__on_hide_BANG_ = (function __BEH__on_hide_BANG_(this$){if(cljs.core.truth_(new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",1816687083).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{lt.util.dom.css.call(null,lt.object.__GT_content.call(null,this$),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"height","height",4087841945),0], null));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",1816687083),false], null));
return lt.object.raise.call(null,lt.objs.tabs.multi,new cljs.core.Keyword(null,"tabset-bottom!","tabset-bottom!",2684870056),(- new cljs.core.Keyword(null,"height","height",4087841945).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","on-hide!","lt.objs.statusbar/on-hide!",2534061899),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.statusbar.__BEH__on_hide_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hide!","hide!",1113177745),null], null), null));
lt.objs.statusbar.__BEH__init_statusbar_container = (function __BEH__init_statusbar_container(app){return lt.util.dom.append.call(null,lt.object.__GT_content.call(null,lt.objs.tabs.multi),lt.object.__GT_content.call(null,lt.objs.statusbar.container));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","init-statusbar-container","lt.objs.statusbar/init-statusbar-container",2030170804),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.statusbar.__BEH__init_statusbar_container,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.statusbar.statusbar_item = (function statusbar_item(content,class$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),class$], null),content], null));var seq__12211_12217 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__12212_12218 = null;var count__12213_12219 = 0;var i__12214_12220 = 0;while(true){
if((i__12214_12220 < count__12213_12219))
{var vec__12215_12221 = cljs.core._nth.call(null,chunk__12212_12218,i__12214_12220);var ev__4336__auto___12222 = cljs.core.nth.call(null,vec__12215_12221,0,null);var func__4337__auto___12223 = cljs.core.nth.call(null,vec__12215_12221,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12222,func__4337__auto___12223);
{
var G__12224 = seq__12211_12217;
var G__12225 = chunk__12212_12218;
var G__12226 = count__12213_12219;
var G__12227 = (i__12214_12220 + 1);
seq__12211_12217 = G__12224;
chunk__12212_12218 = G__12225;
count__12213_12219 = G__12226;
i__12214_12220 = G__12227;
continue;
}
} else
{var temp__4092__auto___12228 = cljs.core.seq.call(null,seq__12211_12217);if(temp__4092__auto___12228)
{var seq__12211_12229__$1 = temp__4092__auto___12228;if(cljs.core.chunked_seq_QMARK_.call(null,seq__12211_12229__$1))
{var c__4150__auto___12230 = cljs.core.chunk_first.call(null,seq__12211_12229__$1);{
var G__12231 = cljs.core.chunk_rest.call(null,seq__12211_12229__$1);
var G__12232 = c__4150__auto___12230;
var G__12233 = cljs.core.count.call(null,c__4150__auto___12230);
var G__12234 = 0;
seq__12211_12217 = G__12231;
chunk__12212_12218 = G__12232;
count__12213_12219 = G__12233;
i__12214_12220 = G__12234;
continue;
}
} else
{var vec__12216_12235 = cljs.core.first.call(null,seq__12211_12229__$1);var ev__4336__auto___12236 = cljs.core.nth.call(null,vec__12216_12235,0,null);var func__4337__auto___12237 = cljs.core.nth.call(null,vec__12216_12235,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12236,func__4337__auto___12237);
{
var G__12238 = cljs.core.next.call(null,seq__12211_12229__$1);
var G__12239 = null;
var G__12240 = 0;
var G__12241 = 0;
seq__12211_12217 = G__12238;
chunk__12212_12218 = G__12239;
count__12213_12219 = G__12240;
i__12214_12220 = G__12241;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar","lt.objs.statusbar/statusbar",3933351963),new cljs.core.Keyword(null,"items","items",1114430258),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"height","height",4087841945),34,new cljs.core.Keyword(null,"order","order",1119910592),0,new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul#statusbar","ul#statusbar",2076227431),crate.binding.map_bound.call(null,(function (p1__12242_SHARP_){return lt.object.__GT_content.call(null,cljs.core.deref.call(null,p1__12242_SHARP_));
}),this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"path","path",1017337751),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"items","items",1114430258)], null)], null))], null);
}));
lt.objs.statusbar.statusbar = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar","lt.objs.statusbar/statusbar",3933351963));
lt.objs.statusbar.add_container.call(null,lt.objs.statusbar.statusbar);
lt.objs.statusbar.__BEH__show_statusbar = (function __BEH__show_statusbar(this$){return lt.object.raise.call(null,lt.objs.statusbar.statusbar,new cljs.core.Keyword(null,"show!","show!",1123317814));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","show-statusbar","lt.objs.statusbar/show-statusbar",3545826539),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.statusbar.__BEH__show_statusbar,new cljs.core.Keyword(null,"desc","desc",1016984067),"App: Show statusbar at the bottom of the editor",new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"user","user",1017503549));
lt.objs.statusbar.add_statusbar_item = (function add_statusbar_item(item){return lt.object.update_BANG_.call(null,lt.objs.statusbar.statusbar,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"items","items",1114430258)], null),cljs.core.conj,item);
});
lt.objs.statusbar.__GT_cursor_str = (function __GT_cursor_str(p__12243){var map__12245 = p__12243;var map__12245__$1 = ((cljs.core.seq_QMARK_.call(null,map__12245))?cljs.core.apply.call(null,cljs.core.hash_map,map__12245):map__12245);var pos = cljs.core.get.call(null,map__12245__$1,new cljs.core.Keyword(null,"pos","pos",1014015430));return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.pos","span.pos",3069890850),[cljs.core.str(""),cljs.core.str((new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(pos) + 1)),cljs.core.str(" / "),cljs.core.str((new cljs.core.Keyword(null,"ch","ch",1013907415).cljs$core$IFn$_invoke$arity$1(pos) + 1))].join('')], null);
});
lt.objs.statusbar.__BEH__update_cursor_location = (function __BEH__update_cursor_location(this$,pos){return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"pos","pos",1014015430),pos], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","update-cursor-location","lt.objs.statusbar/update-cursor-location",3219638212),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.statusbar.__BEH__update_cursor_location,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"update!","update!",779473898),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.cursor","lt.objs.statusbar/statusbar.cursor",2923420677),new cljs.core.Keyword(null,"triggers","triggers",2516997421),cljs.core.PersistentHashSet.EMPTY,new cljs.core.Keyword(null,"behaviors","behaviors",607554515),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.statusbar","update-cursor-location","lt.objs.statusbar/update-cursor-location",3219638212),null], null), null),new cljs.core.Keyword(null,"pos","pos",1014015430),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"line","line",1017226086),0,new cljs.core.Keyword(null,"ch","ch",1013907415),0], null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return lt.objs.statusbar.statusbar_item.call(null,crate.binding.bound.call(null,this$,lt.objs.statusbar.__GT_cursor_str),"");
}));
lt.objs.statusbar.__BEH__report_cursor_location = (function __BEH__report_cursor_location(this$){return lt.object.raise.call(null,lt.objs.statusbar.statusbar_cursor,new cljs.core.Keyword(null,"update!","update!",779473898),lt.objs.editor.__GT_cursor.call(null,this$));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","report-cursor-location","lt.objs.statusbar/report-cursor-location",4636515157),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.statusbar.__BEH__report_cursor_location,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"move","move",1017261891),null,new cljs.core.Keyword(null,"active","active",3885920888),null], null), null));
lt.objs.statusbar.statusbar_cursor = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.cursor","lt.objs.statusbar/statusbar.cursor",2923420677));
lt.objs.statusbar.add_statusbar_item.call(null,lt.objs.statusbar.statusbar_cursor);
lt.objs.statusbar.loader_disp = (function loader_disp(this$){if((new cljs.core.Keyword(null,"loaders","loaders",1350551090).cljs$core$IFn$_invoke$arity$1(this$) > 0))
{return "";
} else
{return "none";
}
});
lt.objs.statusbar.arrow_disp = (function arrow_disp(this$){if((new cljs.core.Keyword(null,"loaders","loaders",1350551090).cljs$core$IFn$_invoke$arity$1(this$) > 0))
{return "none";
} else
{return "";
}
});
lt.objs.statusbar.loader = (function loader(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.load-wrapper","span.load-wrapper",4427265602),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"display","display",2685668404),crate.binding.bound.call(null,this$,lt.objs.statusbar.loader_disp)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.img","span.img",3069884049)], null)], null));var seq__12252_12258 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"toggle","toggle",4440567494));
})], null)));var chunk__12253_12259 = null;var count__12254_12260 = 0;var i__12255_12261 = 0;while(true){
if((i__12255_12261 < count__12254_12260))
{var vec__12256_12262 = cljs.core._nth.call(null,chunk__12253_12259,i__12255_12261);var ev__4336__auto___12263 = cljs.core.nth.call(null,vec__12256_12262,0,null);var func__4337__auto___12264 = cljs.core.nth.call(null,vec__12256_12262,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12263,func__4337__auto___12264);
{
var G__12265 = seq__12252_12258;
var G__12266 = chunk__12253_12259;
var G__12267 = count__12254_12260;
var G__12268 = (i__12255_12261 + 1);
seq__12252_12258 = G__12265;
chunk__12253_12259 = G__12266;
count__12254_12260 = G__12267;
i__12255_12261 = G__12268;
continue;
}
} else
{var temp__4092__auto___12269 = cljs.core.seq.call(null,seq__12252_12258);if(temp__4092__auto___12269)
{var seq__12252_12270__$1 = temp__4092__auto___12269;if(cljs.core.chunked_seq_QMARK_.call(null,seq__12252_12270__$1))
{var c__4150__auto___12271 = cljs.core.chunk_first.call(null,seq__12252_12270__$1);{
var G__12272 = cljs.core.chunk_rest.call(null,seq__12252_12270__$1);
var G__12273 = c__4150__auto___12271;
var G__12274 = cljs.core.count.call(null,c__4150__auto___12271);
var G__12275 = 0;
seq__12252_12258 = G__12272;
chunk__12253_12259 = G__12273;
count__12254_12260 = G__12274;
i__12255_12261 = G__12275;
continue;
}
} else
{var vec__12257_12276 = cljs.core.first.call(null,seq__12252_12270__$1);var ev__4336__auto___12277 = cljs.core.nth.call(null,vec__12257_12276,0,null);var func__4337__auto___12278 = cljs.core.nth.call(null,vec__12257_12276,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12277,func__4337__auto___12278);
{
var G__12279 = cljs.core.next.call(null,seq__12252_12270__$1);
var G__12280 = null;
var G__12281 = 0;
var G__12282 = 0;
seq__12252_12258 = G__12279;
chunk__12253_12259 = G__12280;
count__12254_12260 = G__12281;
i__12255_12261 = G__12282;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.statusbar.log_item = (function log_item(i){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),crate.binding.bound.call(null,i,new cljs.core.Keyword(null,"text","text",1017460895))], null));var seq__12289_12295 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__12290_12296 = null;var count__12291_12297 = 0;var i__12292_12298 = 0;while(true){
if((i__12292_12298 < count__12291_12297))
{var vec__12293_12299 = cljs.core._nth.call(null,chunk__12290_12296,i__12292_12298);var ev__4336__auto___12300 = cljs.core.nth.call(null,vec__12293_12299,0,null);var func__4337__auto___12301 = cljs.core.nth.call(null,vec__12293_12299,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12300,func__4337__auto___12301);
{
var G__12302 = seq__12289_12295;
var G__12303 = chunk__12290_12296;
var G__12304 = count__12291_12297;
var G__12305 = (i__12292_12298 + 1);
seq__12289_12295 = G__12302;
chunk__12290_12296 = G__12303;
count__12291_12297 = G__12304;
i__12292_12298 = G__12305;
continue;
}
} else
{var temp__4092__auto___12306 = cljs.core.seq.call(null,seq__12289_12295);if(temp__4092__auto___12306)
{var seq__12289_12307__$1 = temp__4092__auto___12306;if(cljs.core.chunked_seq_QMARK_.call(null,seq__12289_12307__$1))
{var c__4150__auto___12308 = cljs.core.chunk_first.call(null,seq__12289_12307__$1);{
var G__12309 = cljs.core.chunk_rest.call(null,seq__12289_12307__$1);
var G__12310 = c__4150__auto___12308;
var G__12311 = cljs.core.count.call(null,c__4150__auto___12308);
var G__12312 = 0;
seq__12289_12295 = G__12309;
chunk__12290_12296 = G__12310;
count__12291_12297 = G__12311;
i__12292_12298 = G__12312;
continue;
}
} else
{var vec__12294_12313 = cljs.core.first.call(null,seq__12289_12307__$1);var ev__4336__auto___12314 = cljs.core.nth.call(null,vec__12294_12313,0,null);var func__4337__auto___12315 = cljs.core.nth.call(null,vec__12294_12313,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12314,func__4337__auto___12315);
{
var G__12316 = cljs.core.next.call(null,seq__12289_12307__$1);
var G__12317 = null;
var G__12318 = 0;
var G__12319 = 0;
seq__12289_12295 = G__12316;
chunk__12290_12296 = G__12317;
count__12291_12297 = G__12318;
i__12292_12298 = G__12319;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.statusbar.__GT_message_class = (function __GT_message_class(m){return [cljs.core.str("message "),cljs.core.str((function (){var or__3408__auto__ = m;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return "";
}
})())].join('');
});
lt.objs.statusbar.log = (function log(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.log","div.log",2686473177),lt.objs.statusbar.loader.call(null,this$),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,(function (p1__12320_SHARP_){return lt.objs.statusbar.__GT_message_class.call(null,new cljs.core.Keyword(null,"class","class",1108647146).cljs$core$IFn$_invoke$arity$1(p1__12320_SHARP_));
}))], null),crate.binding.bound.call(null,this$,new cljs.core.Keyword(null,"message","message",1968829305))], null)], null));var seq__12327_12333 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__12328_12334 = null;var count__12329_12335 = 0;var i__12330_12336 = 0;while(true){
if((i__12330_12336 < count__12329_12335))
{var vec__12331_12337 = cljs.core._nth.call(null,chunk__12328_12334,i__12330_12336);var ev__4336__auto___12338 = cljs.core.nth.call(null,vec__12331_12337,0,null);var func__4337__auto___12339 = cljs.core.nth.call(null,vec__12331_12337,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12338,func__4337__auto___12339);
{
var G__12340 = seq__12327_12333;
var G__12341 = chunk__12328_12334;
var G__12342 = count__12329_12335;
var G__12343 = (i__12330_12336 + 1);
seq__12327_12333 = G__12340;
chunk__12328_12334 = G__12341;
count__12329_12335 = G__12342;
i__12330_12336 = G__12343;
continue;
}
} else
{var temp__4092__auto___12344 = cljs.core.seq.call(null,seq__12327_12333);if(temp__4092__auto___12344)
{var seq__12327_12345__$1 = temp__4092__auto___12344;if(cljs.core.chunked_seq_QMARK_.call(null,seq__12327_12345__$1))
{var c__4150__auto___12346 = cljs.core.chunk_first.call(null,seq__12327_12345__$1);{
var G__12347 = cljs.core.chunk_rest.call(null,seq__12327_12345__$1);
var G__12348 = c__4150__auto___12346;
var G__12349 = cljs.core.count.call(null,c__4150__auto___12346);
var G__12350 = 0;
seq__12327_12333 = G__12347;
chunk__12328_12334 = G__12348;
count__12329_12335 = G__12349;
i__12330_12336 = G__12350;
continue;
}
} else
{var vec__12332_12351 = cljs.core.first.call(null,seq__12327_12345__$1);var ev__4336__auto___12352 = cljs.core.nth.call(null,vec__12332_12351,0,null);var func__4337__auto___12353 = cljs.core.nth.call(null,vec__12332_12351,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12352,func__4337__auto___12353);
{
var G__12354 = cljs.core.next.call(null,seq__12327_12345__$1);
var G__12355 = null;
var G__12356 = 0;
var G__12357 = 0;
seq__12327_12333 = G__12354;
chunk__12328_12334 = G__12355;
count__12329_12335 = G__12356;
i__12330_12336 = G__12357;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.loader","lt.objs.statusbar/statusbar.loader",2772437308),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"statusbar.console","statusbar.console",4348364476),null], null), null),new cljs.core.Keyword(null,"loaders","loaders",1350551090),0,new cljs.core.Keyword(null,"message","message",1968829305),"",new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return lt.objs.statusbar.statusbar_item.call(null,lt.objs.statusbar.log.call(null,this$),"left");
}));
lt.objs.statusbar.loader_set = (function loader_set(){return lt.object.merge_BANG_.call(null,lt.objs.statusbar.statusbar_loader,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"loaders","loaders",1350551090),0], null));
});
lt.objs.statusbar.loader_inc = (function loader_inc(){return lt.object.update_BANG_.call(null,lt.objs.statusbar.statusbar_loader,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"loaders","loaders",1350551090)], null),cljs.core.inc);
});
lt.objs.statusbar.loader_dec = (function loader_dec(){if((new cljs.core.Keyword(null,"loaders","loaders",1350551090).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.statusbar.statusbar_loader)) > 0))
{return lt.object.update_BANG_.call(null,lt.objs.statusbar.statusbar_loader,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"loaders","loaders",1350551090)], null),cljs.core.dec);
} else
{return null;
}
});
lt.objs.statusbar.statusbar_loader = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.loader","lt.objs.statusbar/statusbar.loader",2772437308));
lt.objs.statusbar.add_statusbar_item.call(null,lt.objs.statusbar.statusbar_loader);
lt.objs.statusbar.toggle_span = (function toggle_span(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,lt.objs.statusbar.toggle_class)], null),crate.binding.bound.call(null,this$,new cljs.core.Keyword(null,"dirty","dirty",1109497668))], null));var seq__12364_12370 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"toggle-console","toggle-console",4454540112));
})], null)));var chunk__12365_12371 = null;var count__12366_12372 = 0;var i__12367_12373 = 0;while(true){
if((i__12367_12373 < count__12366_12372))
{var vec__12368_12374 = cljs.core._nth.call(null,chunk__12365_12371,i__12367_12373);var ev__4336__auto___12375 = cljs.core.nth.call(null,vec__12368_12374,0,null);var func__4337__auto___12376 = cljs.core.nth.call(null,vec__12368_12374,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12375,func__4337__auto___12376);
{
var G__12377 = seq__12364_12370;
var G__12378 = chunk__12365_12371;
var G__12379 = count__12366_12372;
var G__12380 = (i__12367_12373 + 1);
seq__12364_12370 = G__12377;
chunk__12365_12371 = G__12378;
count__12366_12372 = G__12379;
i__12367_12373 = G__12380;
continue;
}
} else
{var temp__4092__auto___12381 = cljs.core.seq.call(null,seq__12364_12370);if(temp__4092__auto___12381)
{var seq__12364_12382__$1 = temp__4092__auto___12381;if(cljs.core.chunked_seq_QMARK_.call(null,seq__12364_12382__$1))
{var c__4150__auto___12383 = cljs.core.chunk_first.call(null,seq__12364_12382__$1);{
var G__12384 = cljs.core.chunk_rest.call(null,seq__12364_12382__$1);
var G__12385 = c__4150__auto___12383;
var G__12386 = cljs.core.count.call(null,c__4150__auto___12383);
var G__12387 = 0;
seq__12364_12370 = G__12384;
chunk__12365_12371 = G__12385;
count__12366_12372 = G__12386;
i__12367_12373 = G__12387;
continue;
}
} else
{var vec__12369_12388 = cljs.core.first.call(null,seq__12364_12382__$1);var ev__4336__auto___12389 = cljs.core.nth.call(null,vec__12369_12388,0,null);var func__4337__auto___12390 = cljs.core.nth.call(null,vec__12369_12388,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___12389,func__4337__auto___12390);
{
var G__12391 = cljs.core.next.call(null,seq__12364_12382__$1);
var G__12392 = null;
var G__12393 = 0;
var G__12394 = 0;
seq__12364_12370 = G__12391;
chunk__12365_12371 = G__12392;
count__12366_12372 = G__12393;
i__12367_12373 = G__12394;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.statusbar.toggle_class = (function toggle_class(p__12395){var map__12397 = p__12395;var map__12397__$1 = ((cljs.core.seq_QMARK_.call(null,map__12397))?cljs.core.apply.call(null,cljs.core.hash_map,map__12397):map__12397);var class$ = cljs.core.get.call(null,map__12397__$1,new cljs.core.Keyword(null,"class","class",1108647146));var dirty = cljs.core.get.call(null,map__12397__$1,new cljs.core.Keyword(null,"dirty","dirty",1109497668));return [cljs.core.str("console-toggle "),cljs.core.str((cljs.core.truth_(class$)?[cljs.core.str(class$),cljs.core.str(" ")].join(''):null)),cljs.core.str((((dirty > 0))?"dirty":null))].join('');
});
lt.objs.statusbar.dirty = (function dirty(){return lt.object.update_BANG_.call(null,lt.objs.statusbar.console_toggle,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dirty","dirty",1109497668)], null),cljs.core.inc);
});
lt.objs.statusbar.clean = (function clean(){return lt.object.merge_BANG_.call(null,lt.objs.statusbar.console_toggle,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"dirty","dirty",1109497668),0,new cljs.core.Keyword(null,"class","class",1108647146),null], null));
});
lt.objs.statusbar.console_class = (function console_class(class$){return lt.object.merge_BANG_.call(null,lt.objs.statusbar.console_toggle,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),class$], null));
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.console-toggle","lt.objs.statusbar/statusbar.console-toggle",4344040401),new cljs.core.Keyword(null,"dirty","dirty",1109497668),0,new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"statusbar.console-toggle","statusbar.console-toggle",3902398121)], null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return lt.objs.statusbar.statusbar_item.call(null,lt.objs.statusbar.toggle_span.call(null,this$));
}));
lt.objs.statusbar.console_toggle = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.console-toggle","lt.objs.statusbar/statusbar.console-toggle",4344040401));
lt.objs.statusbar.add_statusbar_item.call(null,lt.objs.statusbar.console_toggle);
