// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.eval');
goog.require('cljs.core');
goog.require('lt.util.cljs');
goog.require('crate.binding');
goog.require('lt.objs.menu');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.files');
goog.require('lt.util.dom');
goog.require('lt.objs.popup');
goog.require('lt.objs.popup');
goog.require('crate.core');
goog.require('lt.objs.notifos');
goog.require('lt.objs.notifos');
goog.require('lt.util.dom');
goog.require('lt.objs.editor.pool');
goog.require('clojure.string');
goog.require('lt.objs.canvas');
goog.require('lt.util.cljs');
goog.require('lt.objs.menu');
goog.require('lt.objs.files');
goog.require('lt.objs.clients');
goog.require('clojure.string');
goog.require('crate.binding');
goog.require('lt.objs.editor');
goog.require('lt.objs.canvas');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.objs.console');
goog.require('lt.objs.console');
goog.require('crate.core');
goog.require('lt.objs.clients');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.editor');
/**
* @param {...*} var_args
*/
lt.objs.eval.button = (function() { 
var button__delegate = function (label,p__8387){var vec__8395 = p__8387;var cb = cljs.core.nth.call(null,vec__8395,0,null);var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.button.right","div.button.right",629503503),label], null));var seq__8396_8402 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){if(cljs.core.truth_(cb))
{return cb.call(null);
} else
{return null;
}
})], null)));var chunk__8397_8403 = null;var count__8398_8404 = 0;var i__8399_8405 = 0;while(true){
if((i__8399_8405 < count__8398_8404))
{var vec__8400_8406 = cljs.core._nth.call(null,chunk__8397_8403,i__8399_8405);var ev__4336__auto___8407 = cljs.core.nth.call(null,vec__8400_8406,0,null);var func__4337__auto___8408 = cljs.core.nth.call(null,vec__8400_8406,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8407,func__4337__auto___8408);
{
var G__8409 = seq__8396_8402;
var G__8410 = chunk__8397_8403;
var G__8411 = count__8398_8404;
var G__8412 = (i__8399_8405 + 1);
seq__8396_8402 = G__8409;
chunk__8397_8403 = G__8410;
count__8398_8404 = G__8411;
i__8399_8405 = G__8412;
continue;
}
} else
{var temp__4092__auto___8413 = cljs.core.seq.call(null,seq__8396_8402);if(temp__4092__auto___8413)
{var seq__8396_8414__$1 = temp__4092__auto___8413;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8396_8414__$1))
{var c__4150__auto___8415 = cljs.core.chunk_first.call(null,seq__8396_8414__$1);{
var G__8416 = cljs.core.chunk_rest.call(null,seq__8396_8414__$1);
var G__8417 = c__4150__auto___8415;
var G__8418 = cljs.core.count.call(null,c__4150__auto___8415);
var G__8419 = 0;
seq__8396_8402 = G__8416;
chunk__8397_8403 = G__8417;
count__8398_8404 = G__8418;
i__8399_8405 = G__8419;
continue;
}
} else
{var vec__8401_8420 = cljs.core.first.call(null,seq__8396_8414__$1);var ev__4336__auto___8421 = cljs.core.nth.call(null,vec__8401_8420,0,null);var func__4337__auto___8422 = cljs.core.nth.call(null,vec__8401_8420,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8421,func__4337__auto___8422);
{
var G__8423 = cljs.core.next.call(null,seq__8396_8414__$1);
var G__8424 = null;
var G__8425 = 0;
var G__8426 = 0;
seq__8396_8402 = G__8423;
chunk__8397_8403 = G__8424;
count__8398_8404 = G__8425;
i__8399_8405 = G__8426;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
};
var button = function (label,var_args){
var p__8387 = null;if (arguments.length > 1) {
  p__8387 = cljs.core.array_seq(Array.prototype.slice.call(arguments, 1),0);} 
return button__delegate.call(this,label,p__8387);};
button.cljs$lang$maxFixedArity = 1;
button.cljs$lang$applyTo = (function (arglist__8427){
var label = cljs.core.first(arglist__8427);
var p__8387 = cljs.core.rest(arglist__8427);
return button__delegate(label,p__8387);
});
button.cljs$core$IFn$_invoke$arity$variadic = button__delegate;
return button;
})()
;
lt.objs.eval.unsupported = (function unsupported(){return lt.objs.popup.show_BANG_.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",1013907516),"We can't eval that yet."], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",1013904354),"We can't eval this type of file yet. The extensions that we know how to execute are:",[cljs.core.str(" [ "),cljs.core.str(cljs.core.apply.call(null,cljs.core.str,cljs.core.map.call(null,(function (p1__8428_SHARP_){return [cljs.core.str("."),cljs.core.str(p1__8428_SHARP_),cljs.core.str(" ")].join('');
}),lt.objs.eval.supported_types))),cljs.core.str("]")].join('')], null),lt.objs.eval.button.call(null,"Cancel"));
});
lt.objs.eval.find_client = (function find_client(p__8429){var map__8435 = p__8429;var map__8435__$1 = ((cljs.core.seq_QMARK_.call(null,map__8435))?cljs.core.apply.call(null,cljs.core.hash_map,map__8435):map__8435);var opts = map__8435__$1;var create = cljs.core.get.call(null,map__8435__$1,new cljs.core.Keyword(null,"create","create",3956577390));var key = cljs.core.get.call(null,map__8435__$1,new cljs.core.Keyword(null,"key","key",1014010321));var info = cljs.core.get.call(null,map__8435__$1,new cljs.core.Keyword(null,"info","info",1017141280));var command = cljs.core.get.call(null,map__8435__$1,new cljs.core.Keyword(null,"command","command",1964298941));var origin = cljs.core.get.call(null,map__8435__$1,new cljs.core.Keyword(null,"origin","origin",4300251800));var vec__8436 = lt.objs.clients.discover.call(null,command,info);var result = cljs.core.nth.call(null,vec__8436,0,null);var client = cljs.core.nth.call(null,vec__8436,1,null);var key__$1 = (function (){var or__3408__auto__ = key;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return new cljs.core.Keyword(null,"default","default",2558708147);
}
})();var pred__8437 = cljs.core._EQ_;var expr__8438 = result;if(cljs.core.truth_(pred__8437.call(null,new cljs.core.Keyword(null,"none","none",1017291434),expr__8438)))
{if(cljs.core.truth_(create))
{return create.call(null,opts);
} else
{lt.objs.notifos.done_working.call(null);
lt.object.raise.call(null,lt.objs.eval.evaler,new cljs.core.Keyword(null,"no-client","no-client",4161042633),opts);
return lt.objs.clients.placeholder.call(null);
}
} else
{if(cljs.core.truth_(pred__8437.call(null,new cljs.core.Keyword(null,"found","found",1111526132),expr__8438)))
{return client;
} else
{if(cljs.core.truth_(pred__8437.call(null,new cljs.core.Keyword(null,"select","select",4402849902),expr__8438)))
{lt.object.raise.call(null,lt.objs.eval.evaler,new cljs.core.Keyword(null,"select-client","select-client",4292921646),client,(function (client__$1){lt.objs.clients.swap_client_BANG_.call(null,key__$1.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,origin))),client__$1);
return lt.object.update_BANG_.call(null,origin,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"client","client",3951159101)], null),cljs.core.assoc,key__$1,client__$1);
}));
return lt.objs.clients.placeholder.call(null);
} else
{if(cljs.core.truth_(pred__8437.call(null,new cljs.core.Keyword(null,"unsupported","unsupported",1062540711),expr__8438)))
{return lt.objs.eval.unsupported.call(null);
} else
{throw (new Error([cljs.core.str("No matching clause: "),cljs.core.str(expr__8438)].join('')));
}
}
}
}
});
lt.objs.eval.get_client_BANG_ = (function get_client_BANG_(p__8440){var map__8442 = p__8440;var map__8442__$1 = ((cljs.core.seq_QMARK_.call(null,map__8442))?cljs.core.apply.call(null,cljs.core.hash_map,map__8442):map__8442);var opts = map__8442__$1;var create = cljs.core.get.call(null,map__8442__$1,new cljs.core.Keyword(null,"create","create",3956577390));var key = cljs.core.get.call(null,map__8442__$1,new cljs.core.Keyword(null,"key","key",1014010321));var command = cljs.core.get.call(null,map__8442__$1,new cljs.core.Keyword(null,"command","command",1964298941));var origin = cljs.core.get.call(null,map__8442__$1,new cljs.core.Keyword(null,"origin","origin",4300251800));var key__$1 = (function (){var or__3408__auto__ = key;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return new cljs.core.Keyword(null,"default","default",2558708147);
}
})();var cur = key__$1.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,origin)));if(cljs.core.truth_((function (){var and__3396__auto__ = cur;if(cljs.core.truth_(and__3396__auto__))
{return lt.objs.clients.available_QMARK_.call(null,cur);
} else
{return and__3396__auto__;
}
})()))
{return cur;
} else
{var neue = lt.objs.eval.find_client.call(null,opts);lt.object.update_BANG_.call(null,origin,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"client","client",3951159101)], null),cljs.core.assoc,key__$1,neue);
lt.object.raise.call(null,origin,new cljs.core.Keyword(null,"set-client","set-client",2248164104),neue);
return neue;
}
});
lt.objs.eval.unescape_unicode = (function unescape_unicode(s){return clojure.string.replace.call(null,s,/\\x(..)/,(function (res,r){return String.fromCharCode(parseInt(r,16));
}));
});
var ev_id_8443 = cljs.core.atom.call(null,0);lt.objs.eval.append_source_file = (function append_source_file(code,file){return [cljs.core.str(code),cljs.core.str("\n\n//# sourceURL="),cljs.core.str((function (){var or__3408__auto__ = file;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return "evalresult";
}
})()),cljs.core.str("[eval"),cljs.core.str(cljs.core.swap_BANG_.call(null,ev_id_8443,cljs.core.inc)),cljs.core.str("]")].join('');
});
lt.objs.eval.pad = (function pad(code,lines){return [cljs.core.str(cljs.core.reduce.call(null,cljs.core.str,cljs.core.repeat.call(null,lines,"\n"))),cljs.core.str(code)].join('');
});
lt.objs.eval.cljs_result_format = (function cljs_result_format(n){if(cljs.core.coll_QMARK_.call(null,n))
{return cljs.core.pr_str.call(null,n);
} else
{if(cljs.core.fn_QMARK_.call(null,n))
{return [cljs.core.str("(fn "),cljs.core.str(n.name),cljs.core.str(" ..)")].join('');
} else
{if((n == null))
{return "nil";
} else
{if(cljs.core._EQ_.call(null,cljs.core.pr_str.call(null,n),"#<[object Object]>"))
{return lt.objs.console.inspect.call(null,n);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return cljs.core.pr_str.call(null,n);
} else
{return null;
}
}
}
}
}
});
lt.objs.eval.__BEH__on_selected_cb = (function __BEH__on_selected_cb(obj,client){var cb = cljs.core.deref.call(null,obj).call(null,new cljs.core.Keyword(null,"cb","cb",1013907409));return cb.call(null,client);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-selected-cb","lt.objs.eval/on-selected-cb",1941170511),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__on_selected_cb,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",2205476365),null], null), null));
lt.objs.eval.__BEH__on_selected_destroy = (function __BEH__on_selected_destroy(obj,client){return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"destroy","destroy",2571277164));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-selected-destroy","lt.objs.eval/on-selected-destroy",4250002546),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__on_selected_destroy,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",2205476365),null], null), null));
lt.objs.eval.eval_queue = cljs.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
lt.objs.eval.__BEH__queue_on_no_client = (function __BEH__queue_on_no_client(this$,queue_item){return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,cljs.core.conj,queue_item);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","queue-on-no-client","lt.objs.eval/queue-on-no-client",3460059553),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__queue_on_no_client,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"no-client","no-client",4161042633),null], null), null));
lt.objs.eval.__BEH__alert_on_no_client = (function __BEH__alert_on_no_client(this$){return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",4087600639),"No client available.",new cljs.core.Keyword(null,"body","body",1016933652),"We don't know what kind of client you want for this one. Try starting a client by choosing one of the connection types in the connect panel.",new cljs.core.Keyword(null,"buttons","buttons",1255256819),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1116631654),"Connect a client",new cljs.core.Keyword(null,"action","action",3885920680),(function (){return lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"show-add-connection","show-add-connection",3671605196));
})], null)], null)], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","alert-on-no-client","lt.objs.eval/alert-on-no-client",3202745142),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__alert_on_no_client,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"no-client","no-client",4161042633),null], null), null));
lt.objs.eval.__BEH__queue_BANG_ = (function __BEH__queue_BANG_(this$,queue_item){return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,cljs.core.conj,queue_item);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","queue!","lt.objs.eval/queue!",3205931164),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__queue_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"queue!","queue!",4360174754),null], null), null));
lt.objs.eval.drain = (function drain(queue){return cljs.core.vec.call(null,cljs.core.remove.call(null,(function (cur){var vec__8446 = cur;var _ = cljs.core.nth.call(null,vec__8446,0,null);var ___$1 = cljs.core.nth.call(null,vec__8446,1,null);var cb = cljs.core.nth.call(null,vec__8446,2,null);var vec__8447 = cljs.core.apply.call(null,lt.objs.clients.discover,cur);var result = cljs.core.nth.call(null,vec__8447,0,null);var client = cljs.core.nth.call(null,vec__8447,1,null);if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"found","found",1111526132),result))
{cb.call(null,client);
return true;
} else
{return null;
}
}),queue));
});
lt.objs.eval.__BEH__on_connect_check_queue = (function __BEH__on_connect_check_queue(this$){return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,lt.objs.eval.drain);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-connect-check-queue","lt.objs.eval/on-connect-check-queue",2429838903),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__on_connect_check_queue,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"connect","connect",1965255772),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","evaler","lt.objs.eval/evaler",3546586565),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"evaler","evaler",4017420731),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (){return null;
}));
lt.objs.eval.evaler = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","evaler","lt.objs.eval/evaler",3546586565));
lt.object.add_behavior_BANG_.call(null,lt.objs.clients.clients,new cljs.core.Keyword("lt.objs.eval","on-connect-check-queue","lt.objs.eval/on-connect-check-queue",2429838903));
lt.objs.eval.try_read = (function try_read(r){try{return reader.read_string.call(null,r);
}catch (e8449){if((e8449 instanceof Error))
{var e = e8449;return r;
} else
{if((e8449 instanceof globa.Error))
{var e = e8449;return r;
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{throw e8449;
} else
{return null;
}
}
}
}});
lt.objs.eval.__GT_result_class = (function __GT_result_class(this$,trunc){return [cljs.core.str(new cljs.core.Keyword(null,"class","class",1108647146).cljs$core$IFn$_invoke$arity$1(this$)),cljs.core.str("-result result-mark"),cljs.core.str((cljs.core.truth_((function (){var or__3408__auto__ = new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(this$);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return cljs.core.not.call(null,trunc);
}
})())?" open":null))].join('');
});
lt.objs.eval.truncate_result = (function truncate_result(r,opts){if(typeof r === 'string')
{var nl = r.indexOf("\n");var len = (((nl > -1))?nl:new cljs.core.Keyword(null,"trunc-length","trunc-length",2555961753).cljs$core$IFn$_invoke$arity$2(opts,50));if((cljs.core.count.call(null,r) > len))
{return [cljs.core.str(cljs.core.subs.call(null,r,0,len)),cljs.core.str(" \u2026")].join('');
} else
{return r;
}
} else
{return null;
}
});
lt.objs.eval.__GT_inline_res = (function __GT_inline_res(this$,info){var e__4335__auto__ = crate.core.html.call(null,(function (){var r = new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(info);var truncated = lt.objs.eval.truncate_result.call(null,r,info);return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,((function (r,truncated){
return (function (p1__8450_SHARP_){return lt.objs.eval.__GT_result_class.call(null,p1__8450_SHARP_,truncated);
});})(r,truncated))
)], null),(cljs.core.truth_(truncated)?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.truncated","span.truncated",906070412),truncated], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.full","span.full",4619654693),r], null)], null);
})());var seq__8457_8463 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"mousewheel","mousewheel",2043515208),(function (e){return lt.util.dom.stop_propagation.call(null,e);
}),new cljs.core.Keyword(null,"click","click",1108654330),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1108654330));
}),new cljs.core.Keyword(null,"contextmenu","contextmenu",911789824),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}),new cljs.core.Keyword(null,"dblclick","dblclick",3463991820),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",956590078));
})], null)));var chunk__8458_8464 = null;var count__8459_8465 = 0;var i__8460_8466 = 0;while(true){
if((i__8460_8466 < count__8459_8465))
{var vec__8461_8467 = cljs.core._nth.call(null,chunk__8458_8464,i__8460_8466);var ev__4336__auto___8468 = cljs.core.nth.call(null,vec__8461_8467,0,null);var func__4337__auto___8469 = cljs.core.nth.call(null,vec__8461_8467,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8468,func__4337__auto___8469);
{
var G__8470 = seq__8457_8463;
var G__8471 = chunk__8458_8464;
var G__8472 = count__8459_8465;
var G__8473 = (i__8460_8466 + 1);
seq__8457_8463 = G__8470;
chunk__8458_8464 = G__8471;
count__8459_8465 = G__8472;
i__8460_8466 = G__8473;
continue;
}
} else
{var temp__4092__auto___8474 = cljs.core.seq.call(null,seq__8457_8463);if(temp__4092__auto___8474)
{var seq__8457_8475__$1 = temp__4092__auto___8474;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8457_8475__$1))
{var c__4150__auto___8476 = cljs.core.chunk_first.call(null,seq__8457_8475__$1);{
var G__8477 = cljs.core.chunk_rest.call(null,seq__8457_8475__$1);
var G__8478 = c__4150__auto___8476;
var G__8479 = cljs.core.count.call(null,c__4150__auto___8476);
var G__8480 = 0;
seq__8457_8463 = G__8477;
chunk__8458_8464 = G__8478;
count__8459_8465 = G__8479;
i__8460_8466 = G__8480;
continue;
}
} else
{var vec__8462_8481 = cljs.core.first.call(null,seq__8457_8475__$1);var ev__4336__auto___8482 = cljs.core.nth.call(null,vec__8462_8481,0,null);var func__4337__auto___8483 = cljs.core.nth.call(null,vec__8462_8481,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8482,func__4337__auto___8483);
{
var G__8484 = cljs.core.next.call(null,seq__8457_8475__$1);
var G__8485 = null;
var G__8486 = 0;
var G__8487 = 0;
seq__8457_8463 = G__8484;
chunk__8458_8464 = G__8485;
count__8459_8465 = G__8486;
i__8460_8466 = G__8487;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.eval.__BEH__result_menu_BANG_ = (function __BEH__result_menu_BANG_(this$,ev){lt.objs.menu.show_menu.call(null,lt.objs.menu.menu.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1116631654),"Remove result",new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
})], null)], null)),ev.clientX,ev.clientY);
lt.util.dom.prevent.call(null,ev);
return lt.util.dom.stop_propagation.call(null,ev);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","result-menu!","lt.objs.eval/result-menu!",3431235678),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__result_menu_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu!","menu!",1117686292),null], null), null));
lt.objs.eval.__BEH__expand_on_click = (function __BEH__expand_on_click(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"changed","changed",1752847910));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","expand-on-click","lt.objs.eval/expand-on-click",541363545),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__expand_on_click,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"expand!","expand!",3999393849),null,new cljs.core.Keyword(null,"click","click",1108654330),null], null), null));
lt.objs.eval.__BEH__shrink_on_double_click = (function __BEH__shrink_on_double_click(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),false], null));
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"changed","changed",1752847910));
return lt.objs.editor.focus.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","shrink-on-double-click","lt.objs.eval/shrink-on-double-click",3353397618),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__shrink_on_double_click,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"shrink!","shrink!",3083562666),null], null), null));
lt.objs.eval.__BEH__destroy_on_cleared = (function __BEH__destroy_on_cleared(this$){return lt.object.destroy_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","destroy-on-cleared","lt.objs.eval/destroy-on-cleared",4445067485),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__destroy_on_cleared,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cleared","cleared",1870681886),null], null), null));
lt.objs.eval.__BEH__clear_mark = (function __BEH__clear_mark(this$){if(cljs.core.truth_(cljs.core.deref.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{CodeMirror.off(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),"change",new cljs.core.Keyword(null,"listener","listener",2360064038).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
CodeMirror.off(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),"delete",new cljs.core.Keyword(null,"delete","delete",3973413149).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).clear();
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear","clear",1108650431));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cleared","cleared",1870681886));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","clear-mark","lt.objs.eval/clear-mark",1960624569),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__clear_mark,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.eval.__BEH__changed = (function __BEH__changed(this$){return new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).changed();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","changed","lt.objs.eval/changed",710785568),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__changed,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"changed","changed",1752847910),null], null), null));
lt.objs.eval.__BEH__update_BANG_ = (function __BEH__update_BANG_(this$,res){var content = lt.object.__GT_content.call(null,this$);var full = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".full",".full",1059540783),content);var scroll = lt.util.dom.scroll_top.call(null,full);var temp__4092__auto___8488 = lt.objs.eval.truncate_result.call(null,res);if(cljs.core.truth_(temp__4092__auto___8488))
{var t_8489 = temp__4092__auto___8488;var temp__4092__auto___8490__$1 = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".truncated",".truncated",2172167874),content);if(cljs.core.truth_(temp__4092__auto___8490__$1))
{var trunc_8491 = temp__4092__auto___8490__$1;lt.util.dom.html.call(null,trunc_8491,t_8489);
} else
{}
} else
{}
lt.util.dom.html.call(null,full,res);
return lt.util.dom.scroll_top.call(null,full,scroll);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","update!","lt.objs.eval/update!",2489665524),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__update_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"update!","update!",779473898),null], null), null));
lt.objs.eval.new_line_change = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["",""], null);
lt.objs.eval.__BEH__move_mark = (function __BEH__move_mark(this$,ch){if(cljs.core.truth_(ch))
{var orig = new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var loc = orig.find();var cur_line = lt.objs.editor.lh__GT_line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));if((cljs.core.not.call(null,loc)) || (cljs.core.empty_QMARK_.call(null,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).text)))
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{if((((loc.line > ch.to.line)) && (cljs.core.empty_QMARK_.call(null,clojure.string.trim.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),loc.line))))) || ((((ch.to.ch >= loc.ch)) && (cljs.core._EQ_.call(null,ch.to.line,loc.line))) || ((ch.to.line > ch.from.line))))
{lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"mark","mark",1017248319),lt.objs.editor.bookmark.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"line","line",1017226086),cur_line], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"widget","widget",4520824246),lt.object.__GT_content.call(null,this$),new cljs.core.Keyword(null,"insertLeft","insertLeft",1979827666),true], null))], null));
if(cljs.core.truth_(orig))
{return orig.clear();
} else
{return null;
}
} else
{return null;
}
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","move-mark","lt.objs.eval/move-mark",1501429445),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__move_mark,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"move!","move!",1117991394),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1807255869),new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"click","click",1108654330),null,new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.result","inline.result",1543983236),null,new cljs.core.Keyword(null,"inline","inline",4124874251),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,info){var temp__4092__auto__ = lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var content = lt.objs.eval.__GT_inline_res.call(null,this$,info);var delete$ = ((function (content){
return (function (_){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
});})(content))
;var listener = ((function (content,delete$){
return (function (line,change){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move!","move!",1117991394),change);
});})(content,delete$))
;CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"change",listener);
CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"delete",delete$);
lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"listener","listener",2360064038),listener,new cljs.core.Keyword(null,"delete","delete",3973413149),delete$,new cljs.core.Keyword(null,"mark","mark",1017248319),lt.objs.editor.bookmark.call(null,ed,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"line","line",1017226086),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info))], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"widget","widget",4520824246),content,new cljs.core.Keyword(null,"insertLeft","insertLeft",1979827666),true], null))));
return content;
} else
{return null;
}
}));
lt.objs.eval.__BEH__inline_results = (function __BEH__inline_results(this$,res,loc,opts){var ed = new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var type = (function (){var or__3408__auto__ = new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(opts);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return new cljs.core.Keyword(null,"inline","inline",4124874251);
}
})();var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc));var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1807255869),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"ed","ed",1013907473),this$,new cljs.core.Keyword(null,"class","class",1108647146),cljs.core.name.call(null,type),new cljs.core.Keyword(null,"opts","opts",1017322386),opts,new cljs.core.Keyword(null,"result","result",4374444943),res,new cljs.core.Keyword(null,"loc","loc",1014011570),loc,new cljs.core.Keyword(null,"line","line",1017226086),line], null));var temp__4092__auto___8505 = cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,type], null));if(cljs.core.truth_(temp__4092__auto___8505))
{var prev_8506 = temp__4092__auto___8505;if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_8506))))
{lt.object.merge_BANG_.call(null,res_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_8506,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{}
if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc)))
{var seq__8499_8507 = cljs.core.seq.call(null,cljs.core.map.call(null,(function (p1__8492_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__8492_SHARP_),type], null));
}),cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__8501_8508 = null;var count__8502_8509 = 0;var i__8503_8510 = 0;while(true){
if((i__8503_8510 < count__8502_8509))
{var widget_8511 = cljs.core._nth.call(null,chunk__8501_8508,i__8503_8510);if(cljs.core.truth_(widget_8511))
{lt.object.raise.call(null,widget_8511,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8512 = seq__8499_8507;
var G__8513 = chunk__8501_8508;
var G__8514 = count__8502_8509;
var G__8515 = (i__8503_8510 + 1);
seq__8499_8507 = G__8512;
chunk__8501_8508 = G__8513;
count__8502_8509 = G__8514;
i__8503_8510 = G__8515;
continue;
}
} else
{{
var G__8516 = seq__8499_8507;
var G__8517 = chunk__8501_8508;
var G__8518 = count__8502_8509;
var G__8519 = (i__8503_8510 + 1);
seq__8499_8507 = G__8516;
chunk__8501_8508 = G__8517;
count__8502_8509 = G__8518;
i__8503_8510 = G__8519;
continue;
}
}
} else
{var temp__4092__auto___8520 = cljs.core.seq.call(null,seq__8499_8507);if(temp__4092__auto___8520)
{var seq__8499_8521__$1 = temp__4092__auto___8520;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8499_8521__$1))
{var c__4150__auto___8522 = cljs.core.chunk_first.call(null,seq__8499_8521__$1);{
var G__8523 = cljs.core.chunk_rest.call(null,seq__8499_8521__$1);
var G__8524 = c__4150__auto___8522;
var G__8525 = cljs.core.count.call(null,c__4150__auto___8522);
var G__8526 = 0;
seq__8499_8507 = G__8523;
chunk__8501_8508 = G__8524;
count__8502_8509 = G__8525;
i__8503_8510 = G__8526;
continue;
}
} else
{var widget_8527 = cljs.core.first.call(null,seq__8499_8521__$1);if(cljs.core.truth_(widget_8527))
{lt.object.raise.call(null,widget_8527,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8528 = cljs.core.next.call(null,seq__8499_8521__$1);
var G__8529 = null;
var G__8530 = 0;
var G__8531 = 0;
seq__8499_8507 = G__8528;
chunk__8501_8508 = G__8529;
count__8502_8509 = G__8530;
i__8503_8510 = G__8531;
continue;
}
} else
{{
var G__8532 = cljs.core.next.call(null,seq__8499_8521__$1);
var G__8533 = null;
var G__8534 = 0;
var G__8535 = 0;
seq__8499_8507 = G__8532;
chunk__8501_8508 = G__8533;
count__8502_8509 = G__8534;
i__8503_8510 = G__8535;
continue;
}
}
}
} else
{}
}
break;
}
} else
{}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",2354242081)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,type], null),res_obj);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-results","lt.objs.eval/inline-results",3940069422),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__inline_results,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.result","editor.result",4030217008),null], null), null));
lt.objs.eval.__GT_underline_result = (function __GT_underline_result(this$,info){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),[cljs.core.str("underline-result "),cljs.core.str((cljs.core.truth_(new cljs.core.Keyword(null,"class","class",1108647146).cljs$core$IFn$_invoke$arity$1(info))?new cljs.core.Keyword(null,"class","class",1108647146).cljs$core$IFn$_invoke$arity$1(info):null))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.spacer","span.spacer",4763675330),lt.objs.eval.__GT_spacing.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info))))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",1014015509),new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(info)], null)], null));var seq__8542_8548 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1108654330));
}),new cljs.core.Keyword(null,"contextmenu","contextmenu",911789824),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}),new cljs.core.Keyword(null,"dblclick","dblclick",3463991820),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",956590078));
})], null)));var chunk__8543_8549 = null;var count__8544_8550 = 0;var i__8545_8551 = 0;while(true){
if((i__8545_8551 < count__8544_8550))
{var vec__8546_8552 = cljs.core._nth.call(null,chunk__8543_8549,i__8545_8551);var ev__4336__auto___8553 = cljs.core.nth.call(null,vec__8546_8552,0,null);var func__4337__auto___8554 = cljs.core.nth.call(null,vec__8546_8552,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8553,func__4337__auto___8554);
{
var G__8555 = seq__8542_8548;
var G__8556 = chunk__8543_8549;
var G__8557 = count__8544_8550;
var G__8558 = (i__8545_8551 + 1);
seq__8542_8548 = G__8555;
chunk__8543_8549 = G__8556;
count__8544_8550 = G__8557;
i__8545_8551 = G__8558;
continue;
}
} else
{var temp__4092__auto___8559 = cljs.core.seq.call(null,seq__8542_8548);if(temp__4092__auto___8559)
{var seq__8542_8560__$1 = temp__4092__auto___8559;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8542_8560__$1))
{var c__4150__auto___8561 = cljs.core.chunk_first.call(null,seq__8542_8560__$1);{
var G__8562 = cljs.core.chunk_rest.call(null,seq__8542_8560__$1);
var G__8563 = c__4150__auto___8561;
var G__8564 = cljs.core.count.call(null,c__4150__auto___8561);
var G__8565 = 0;
seq__8542_8548 = G__8562;
chunk__8543_8549 = G__8563;
count__8544_8550 = G__8564;
i__8545_8551 = G__8565;
continue;
}
} else
{var vec__8547_8566 = cljs.core.first.call(null,seq__8542_8560__$1);var ev__4336__auto___8567 = cljs.core.nth.call(null,vec__8547_8566,0,null);var func__4337__auto___8568 = cljs.core.nth.call(null,vec__8547_8566,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8567,func__4337__auto___8568);
{
var G__8569 = cljs.core.next.call(null,seq__8542_8560__$1);
var G__8570 = null;
var G__8571 = 0;
var G__8572 = 0;
seq__8542_8548 = G__8569;
chunk__8543_8549 = G__8570;
count__8544_8550 = G__8571;
i__8545_8551 = G__8572;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","underline-result","lt.objs.eval/underline-result",1485297066),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.underline-result","inline.underline-result",1936787557),null,new cljs.core.Keyword(null,"inline","inline",4124874251),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,info){var content = lt.objs.eval.__GT_underline_result.call(null,this$,info);var delete$ = ((function (content){
return (function (_){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
});})(content))
;var listener = ((function (content,delete$){
return (function (line,change){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move!","move!",1117991394),change);
});})(content,delete$))
;CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"change",listener);
CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"delete",delete$);
lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"widget","widget",4520824246),lt.objs.editor.line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info)),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info)),content,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"coverGutter","coverGutter",510635812),false,new cljs.core.Keyword(null,"above","above",1106515727),new cljs.core.Keyword(null,"above","above",1106515727).cljs$core$IFn$_invoke$arity$1(info)], null))));
return content;
}));
lt.objs.eval.__BEH__underline_results = (function __BEH__underline_results(this$,res,loc,opts){var ed = new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc));var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","underline-result","lt.objs.eval/underline-result",1485297066),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"ed","ed",1013907473),this$,new cljs.core.Keyword(null,"opts","opts",1017322386),opts,new cljs.core.Keyword(null,"result","result",4374444943),res,new cljs.core.Keyword(null,"loc","loc",1014011570),loc,new cljs.core.Keyword(null,"line","line",1017226086),line], null));var temp__4092__auto___8586 = cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",4281907774)], null));if(cljs.core.truth_(temp__4092__auto___8586))
{var prev_8587 = temp__4092__auto___8586;if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_8587))))
{lt.object.merge_BANG_.call(null,res_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_8587,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{}
if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc)))
{var seq__8580_8588 = cljs.core.seq.call(null,cljs.core.map.call(null,(function (p1__8573_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__8573_SHARP_),new cljs.core.Keyword(null,"underline","underline",4281907774)], null));
}),cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__8582_8589 = null;var count__8583_8590 = 0;var i__8584_8591 = 0;while(true){
if((i__8584_8591 < count__8583_8590))
{var widget_8592 = cljs.core._nth.call(null,chunk__8582_8589,i__8584_8591);if(cljs.core.truth_(widget_8592))
{lt.object.raise.call(null,widget_8592,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8593 = seq__8580_8588;
var G__8594 = chunk__8582_8589;
var G__8595 = count__8583_8590;
var G__8596 = (i__8584_8591 + 1);
seq__8580_8588 = G__8593;
chunk__8582_8589 = G__8594;
count__8583_8590 = G__8595;
i__8584_8591 = G__8596;
continue;
}
} else
{{
var G__8597 = seq__8580_8588;
var G__8598 = chunk__8582_8589;
var G__8599 = count__8583_8590;
var G__8600 = (i__8584_8591 + 1);
seq__8580_8588 = G__8597;
chunk__8582_8589 = G__8598;
count__8583_8590 = G__8599;
i__8584_8591 = G__8600;
continue;
}
}
} else
{var temp__4092__auto___8601 = cljs.core.seq.call(null,seq__8580_8588);if(temp__4092__auto___8601)
{var seq__8580_8602__$1 = temp__4092__auto___8601;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8580_8602__$1))
{var c__4150__auto___8603 = cljs.core.chunk_first.call(null,seq__8580_8602__$1);{
var G__8604 = cljs.core.chunk_rest.call(null,seq__8580_8602__$1);
var G__8605 = c__4150__auto___8603;
var G__8606 = cljs.core.count.call(null,c__4150__auto___8603);
var G__8607 = 0;
seq__8580_8588 = G__8604;
chunk__8582_8589 = G__8605;
count__8583_8590 = G__8606;
i__8584_8591 = G__8607;
continue;
}
} else
{var widget_8608 = cljs.core.first.call(null,seq__8580_8602__$1);if(cljs.core.truth_(widget_8608))
{lt.object.raise.call(null,widget_8608,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8609 = cljs.core.next.call(null,seq__8580_8602__$1);
var G__8610 = null;
var G__8611 = 0;
var G__8612 = 0;
seq__8580_8588 = G__8609;
chunk__8582_8589 = G__8610;
count__8583_8590 = G__8611;
i__8584_8591 = G__8612;
continue;
}
} else
{{
var G__8613 = cljs.core.next.call(null,seq__8580_8602__$1);
var G__8614 = null;
var G__8615 = 0;
var G__8616 = 0;
seq__8580_8588 = G__8613;
chunk__8582_8589 = G__8614;
count__8583_8590 = G__8615;
i__8584_8591 = G__8616;
continue;
}
}
}
} else
{}
}
break;
}
} else
{}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",2354242081)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",4281907774)], null),res_obj);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","underline-results","lt.objs.eval/underline-results",4366201201),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__underline_results,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.result.underline","editor.result.underline",541343758),null], null), null));
lt.objs.eval.__GT_spacing = (function __GT_spacing(text){if(cljs.core.truth_(text))
{return cljs.core.first.call(null,cljs.core.re_seq.call(null,/^\s+/,text));
} else
{return null;
}
});
lt.objs.eval.__GT_exception_class = (function __GT_exception_class(this$){return [cljs.core.str("inline-exception "),cljs.core.str((cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(this$))?"open":null))].join('');
});
lt.objs.eval.__GT_inline_exception = (function __GT_inline_exception(this$,info){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,lt.objs.eval.__GT_exception_class)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.spacer","span.spacer",4763675330),lt.objs.eval.__GT_spacing.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info))))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",1014015509),[cljs.core.str(new cljs.core.Keyword(null,"ex","ex",1013907493).cljs$core$IFn$_invoke$arity$1(info))].join('')], null)], null));var seq__8623_8629 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1108654330));
}),new cljs.core.Keyword(null,"contextmenu","contextmenu",911789824),(function (e){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}),new cljs.core.Keyword(null,"dblclick","dblclick",3463991820),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",956590078));
})], null)));var chunk__8624_8630 = null;var count__8625_8631 = 0;var i__8626_8632 = 0;while(true){
if((i__8626_8632 < count__8625_8631))
{var vec__8627_8633 = cljs.core._nth.call(null,chunk__8624_8630,i__8626_8632);var ev__4336__auto___8634 = cljs.core.nth.call(null,vec__8627_8633,0,null);var func__4337__auto___8635 = cljs.core.nth.call(null,vec__8627_8633,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8634,func__4337__auto___8635);
{
var G__8636 = seq__8623_8629;
var G__8637 = chunk__8624_8630;
var G__8638 = count__8625_8631;
var G__8639 = (i__8626_8632 + 1);
seq__8623_8629 = G__8636;
chunk__8624_8630 = G__8637;
count__8625_8631 = G__8638;
i__8626_8632 = G__8639;
continue;
}
} else
{var temp__4092__auto___8640 = cljs.core.seq.call(null,seq__8623_8629);if(temp__4092__auto___8640)
{var seq__8623_8641__$1 = temp__4092__auto___8640;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8623_8641__$1))
{var c__4150__auto___8642 = cljs.core.chunk_first.call(null,seq__8623_8641__$1);{
var G__8643 = cljs.core.chunk_rest.call(null,seq__8623_8641__$1);
var G__8644 = c__4150__auto___8642;
var G__8645 = cljs.core.count.call(null,c__4150__auto___8642);
var G__8646 = 0;
seq__8623_8629 = G__8643;
chunk__8624_8630 = G__8644;
count__8625_8631 = G__8645;
i__8626_8632 = G__8646;
continue;
}
} else
{var vec__8628_8647 = cljs.core.first.call(null,seq__8623_8641__$1);var ev__4336__auto___8648 = cljs.core.nth.call(null,vec__8628_8647,0,null);var func__4337__auto___8649 = cljs.core.nth.call(null,vec__8628_8647,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8648,func__4337__auto___8649);
{
var G__8650 = cljs.core.next.call(null,seq__8623_8641__$1);
var G__8651 = null;
var G__8652 = 0;
var G__8653 = 0;
seq__8623_8629 = G__8650;
chunk__8624_8630 = G__8651;
count__8625_8631 = G__8652;
i__8626_8632 = G__8653;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.eval.__BEH__ex_shrink_on_double_click = (function __BEH__ex_shrink_on_double_click(this$){lt.objs.editor.focus.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-shrink-on-double-click","lt.objs.eval/ex-shrink-on-double-click",626922428),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__ex_shrink_on_double_click,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"shrink!","shrink!",3083562666),null], null), null));
lt.objs.eval.__BEH__ex_clear = (function __BEH__ex_clear(this$){if(cljs.core.truth_(lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{lt.objs.editor.remove_line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.Keyword(null,"widget","widget",4520824246).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{}
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear","clear",1108650431));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cleared","cleared",1870681886));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-clear","lt.objs.eval/ex-clear",1010359327),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__ex_clear,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.eval.__BEH__ex_menu_BANG_ = (function __BEH__ex_menu_BANG_(this$,ev){lt.objs.menu.show_menu.call(null,lt.objs.menu.menu.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1116631654),"Remove exception",new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
})], null)], null)),ev.clientX,ev.clientY);
lt.util.dom.prevent.call(null,ev);
return lt.util.dom.stop_propagation.call(null,ev);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-menu!","lt.objs.eval/ex-menu!",1003388036),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__ex_menu_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu!","menu!",1117686292),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exception","lt.objs.eval/inline-exception",2990080407),new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"click","click",1108654330),null,new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.exception","inline.exception",3303739052),null,new cljs.core.Keyword(null,"inline","inline",4124874251),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,info){var content = lt.objs.eval.__GT_inline_exception.call(null,this$,info);lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"widget","widget",4520824246),lt.objs.editor.line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info)),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info)),content,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"coverGutter","coverGutter",510635812),false], null))));
return content;
}));
lt.objs.eval.__BEH__inline_exceptions = (function __BEH__inline_exceptions(this$,ex,loc){if(cljs.core.truth_((function (){var and__3396__auto__ = ex;if(cljs.core.truth_(and__3396__auto__))
{var and__3396__auto____$1 = loc;if(cljs.core.truth_(and__3396__auto____$1))
{return (new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc) >= 0);
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})()))
{var ed = new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc));var ex_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exception","lt.objs.eval/inline-exception",2990080407),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"ed","ed",1013907473),this$,new cljs.core.Keyword(null,"ex","ex",1013907493),ex,new cljs.core.Keyword(null,"loc","loc",1014011570),loc,new cljs.core.Keyword(null,"line","line",1017226086),line], null));var seq__8677_8699 = cljs.core.seq.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"inline","inline",4124874251)], null)),cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",4281907774)], null))], null));var chunk__8679_8700 = null;var count__8680_8701 = 0;var i__8681_8702 = 0;while(true){
if((i__8681_8702 < count__8680_8701))
{var prev_8703 = cljs.core._nth.call(null,chunk__8679_8700,i__8681_8702);if(cljs.core.truth_(prev_8703))
{if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_8703))))
{lt.object.merge_BANG_.call(null,ex_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_8703,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8704 = seq__8677_8699;
var G__8705 = chunk__8679_8700;
var G__8706 = count__8680_8701;
var G__8707 = (i__8681_8702 + 1);
seq__8677_8699 = G__8704;
chunk__8679_8700 = G__8705;
count__8680_8701 = G__8706;
i__8681_8702 = G__8707;
continue;
}
} else
{{
var G__8708 = seq__8677_8699;
var G__8709 = chunk__8679_8700;
var G__8710 = count__8680_8701;
var G__8711 = (i__8681_8702 + 1);
seq__8677_8699 = G__8708;
chunk__8679_8700 = G__8709;
count__8680_8701 = G__8710;
i__8681_8702 = G__8711;
continue;
}
}
} else
{var temp__4092__auto___8712 = cljs.core.seq.call(null,seq__8677_8699);if(temp__4092__auto___8712)
{var seq__8677_8713__$1 = temp__4092__auto___8712;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8677_8713__$1))
{var c__4150__auto___8714 = cljs.core.chunk_first.call(null,seq__8677_8713__$1);{
var G__8715 = cljs.core.chunk_rest.call(null,seq__8677_8713__$1);
var G__8716 = c__4150__auto___8714;
var G__8717 = cljs.core.count.call(null,c__4150__auto___8714);
var G__8718 = 0;
seq__8677_8699 = G__8715;
chunk__8679_8700 = G__8716;
count__8680_8701 = G__8717;
i__8681_8702 = G__8718;
continue;
}
} else
{var prev_8719 = cljs.core.first.call(null,seq__8677_8713__$1);if(cljs.core.truth_(prev_8719))
{if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_8719))))
{lt.object.merge_BANG_.call(null,ex_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_8719,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8720 = cljs.core.next.call(null,seq__8677_8713__$1);
var G__8721 = null;
var G__8722 = 0;
var G__8723 = 0;
seq__8677_8699 = G__8720;
chunk__8679_8700 = G__8721;
count__8680_8701 = G__8722;
i__8681_8702 = G__8723;
continue;
}
} else
{{
var G__8724 = cljs.core.next.call(null,seq__8677_8713__$1);
var G__8725 = null;
var G__8726 = 0;
var G__8727 = 0;
seq__8677_8699 = G__8724;
chunk__8679_8700 = G__8725;
count__8680_8701 = G__8726;
i__8681_8702 = G__8727;
continue;
}
}
}
} else
{}
}
break;
}
if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc)))
{var seq__8683_8728 = cljs.core.seq.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"inline","inline",4124874251),new cljs.core.Keyword(null,"underline","underline",4281907774)], null));var chunk__8690_8729 = null;var count__8691_8730 = 0;var i__8692_8731 = 0;while(true){
if((i__8692_8731 < count__8691_8730))
{var type_8732 = cljs.core._nth.call(null,chunk__8690_8729,i__8692_8731);var seq__8693_8733 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (seq__8683_8728,chunk__8690_8729,count__8691_8730,i__8692_8731,type_8732){
return (function (p1__8654_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__8654_SHARP_),type_8732], null));
});})(seq__8683_8728,chunk__8690_8729,count__8691_8730,i__8692_8731,type_8732))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__8695_8734 = null;var count__8696_8735 = 0;var i__8697_8736 = 0;while(true){
if((i__8697_8736 < count__8696_8735))
{var widget_8737 = cljs.core._nth.call(null,chunk__8695_8734,i__8697_8736);if(cljs.core.truth_(widget_8737))
{lt.object.raise.call(null,widget_8737,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8738 = seq__8693_8733;
var G__8739 = chunk__8695_8734;
var G__8740 = count__8696_8735;
var G__8741 = (i__8697_8736 + 1);
seq__8693_8733 = G__8738;
chunk__8695_8734 = G__8739;
count__8696_8735 = G__8740;
i__8697_8736 = G__8741;
continue;
}
} else
{{
var G__8742 = seq__8693_8733;
var G__8743 = chunk__8695_8734;
var G__8744 = count__8696_8735;
var G__8745 = (i__8697_8736 + 1);
seq__8693_8733 = G__8742;
chunk__8695_8734 = G__8743;
count__8696_8735 = G__8744;
i__8697_8736 = G__8745;
continue;
}
}
} else
{var temp__4092__auto___8746 = cljs.core.seq.call(null,seq__8693_8733);if(temp__4092__auto___8746)
{var seq__8693_8747__$1 = temp__4092__auto___8746;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8693_8747__$1))
{var c__4150__auto___8748 = cljs.core.chunk_first.call(null,seq__8693_8747__$1);{
var G__8749 = cljs.core.chunk_rest.call(null,seq__8693_8747__$1);
var G__8750 = c__4150__auto___8748;
var G__8751 = cljs.core.count.call(null,c__4150__auto___8748);
var G__8752 = 0;
seq__8693_8733 = G__8749;
chunk__8695_8734 = G__8750;
count__8696_8735 = G__8751;
i__8697_8736 = G__8752;
continue;
}
} else
{var widget_8753 = cljs.core.first.call(null,seq__8693_8747__$1);if(cljs.core.truth_(widget_8753))
{lt.object.raise.call(null,widget_8753,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8754 = cljs.core.next.call(null,seq__8693_8747__$1);
var G__8755 = null;
var G__8756 = 0;
var G__8757 = 0;
seq__8693_8733 = G__8754;
chunk__8695_8734 = G__8755;
count__8696_8735 = G__8756;
i__8697_8736 = G__8757;
continue;
}
} else
{{
var G__8758 = cljs.core.next.call(null,seq__8693_8747__$1);
var G__8759 = null;
var G__8760 = 0;
var G__8761 = 0;
seq__8693_8733 = G__8758;
chunk__8695_8734 = G__8759;
count__8696_8735 = G__8760;
i__8697_8736 = G__8761;
continue;
}
}
}
} else
{}
}
break;
}
{
var G__8762 = seq__8683_8728;
var G__8763 = chunk__8690_8729;
var G__8764 = count__8691_8730;
var G__8765 = (i__8692_8731 + 1);
seq__8683_8728 = G__8762;
chunk__8690_8729 = G__8763;
count__8691_8730 = G__8764;
i__8692_8731 = G__8765;
continue;
}
} else
{var temp__4092__auto___8766 = cljs.core.seq.call(null,seq__8683_8728);if(temp__4092__auto___8766)
{var seq__8683_8767__$1 = temp__4092__auto___8766;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8683_8767__$1))
{var c__4150__auto___8768 = cljs.core.chunk_first.call(null,seq__8683_8767__$1);{
var G__8769 = cljs.core.chunk_rest.call(null,seq__8683_8767__$1);
var G__8770 = c__4150__auto___8768;
var G__8771 = cljs.core.count.call(null,c__4150__auto___8768);
var G__8772 = 0;
seq__8683_8728 = G__8769;
chunk__8690_8729 = G__8770;
count__8691_8730 = G__8771;
i__8692_8731 = G__8772;
continue;
}
} else
{var type_8773 = cljs.core.first.call(null,seq__8683_8767__$1);var seq__8684_8774 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (seq__8683_8728,chunk__8690_8729,count__8691_8730,i__8692_8731,type_8773,seq__8683_8767__$1,temp__4092__auto___8766){
return (function (p1__8654_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__8654_SHARP_),type_8773], null));
});})(seq__8683_8728,chunk__8690_8729,count__8691_8730,i__8692_8731,type_8773,seq__8683_8767__$1,temp__4092__auto___8766))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__8686_8775 = null;var count__8687_8776 = 0;var i__8688_8777 = 0;while(true){
if((i__8688_8777 < count__8687_8776))
{var widget_8778 = cljs.core._nth.call(null,chunk__8686_8775,i__8688_8777);if(cljs.core.truth_(widget_8778))
{lt.object.raise.call(null,widget_8778,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8779 = seq__8684_8774;
var G__8780 = chunk__8686_8775;
var G__8781 = count__8687_8776;
var G__8782 = (i__8688_8777 + 1);
seq__8684_8774 = G__8779;
chunk__8686_8775 = G__8780;
count__8687_8776 = G__8781;
i__8688_8777 = G__8782;
continue;
}
} else
{{
var G__8783 = seq__8684_8774;
var G__8784 = chunk__8686_8775;
var G__8785 = count__8687_8776;
var G__8786 = (i__8688_8777 + 1);
seq__8684_8774 = G__8783;
chunk__8686_8775 = G__8784;
count__8687_8776 = G__8785;
i__8688_8777 = G__8786;
continue;
}
}
} else
{var temp__4092__auto___8787__$1 = cljs.core.seq.call(null,seq__8684_8774);if(temp__4092__auto___8787__$1)
{var seq__8684_8788__$1 = temp__4092__auto___8787__$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8684_8788__$1))
{var c__4150__auto___8789 = cljs.core.chunk_first.call(null,seq__8684_8788__$1);{
var G__8790 = cljs.core.chunk_rest.call(null,seq__8684_8788__$1);
var G__8791 = c__4150__auto___8789;
var G__8792 = cljs.core.count.call(null,c__4150__auto___8789);
var G__8793 = 0;
seq__8684_8774 = G__8790;
chunk__8686_8775 = G__8791;
count__8687_8776 = G__8792;
i__8688_8777 = G__8793;
continue;
}
} else
{var widget_8794 = cljs.core.first.call(null,seq__8684_8788__$1);if(cljs.core.truth_(widget_8794))
{lt.object.raise.call(null,widget_8794,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8795 = cljs.core.next.call(null,seq__8684_8788__$1);
var G__8796 = null;
var G__8797 = 0;
var G__8798 = 0;
seq__8684_8774 = G__8795;
chunk__8686_8775 = G__8796;
count__8687_8776 = G__8797;
i__8688_8777 = G__8798;
continue;
}
} else
{{
var G__8799 = cljs.core.next.call(null,seq__8684_8788__$1);
var G__8800 = null;
var G__8801 = 0;
var G__8802 = 0;
seq__8684_8774 = G__8799;
chunk__8686_8775 = G__8800;
count__8687_8776 = G__8801;
i__8688_8777 = G__8802;
continue;
}
}
}
} else
{}
}
break;
}
{
var G__8803 = cljs.core.next.call(null,seq__8683_8767__$1);
var G__8804 = null;
var G__8805 = 0;
var G__8806 = 0;
seq__8683_8728 = G__8803;
chunk__8690_8729 = G__8804;
count__8691_8730 = G__8805;
i__8692_8731 = G__8806;
continue;
}
}
} else
{}
}
break;
}
} else
{}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",2354242081)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"inline","inline",4124874251)], null),ex_obj);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exceptions","lt.objs.eval/inline-exceptions",2489921844),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__inline_exceptions,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.exception","editor.exception",3983021184),null], null), null));
lt.objs.eval.__BEH__eval_on_change = (function __BEH__eval_on_change(this$){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"eval","eval",1017029646));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","eval-on-change","lt.objs.eval/eval-on-change",2788474585),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__eval_on_change,new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Eval when the editor changes",new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"change","change",3947235106),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"user","user",1017503549),new cljs.core.Keyword(null,"debounce","debounce",1556599227),300);
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"clear-inline-results","clear-inline-results",1542062004),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Clear inline results",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var seq__8807 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));var chunk__8808 = null;var count__8809 = 0;var i__8810 = 0;while(true){
if((i__8810 < count__8809))
{var vec__8811 = cljs.core._nth.call(null,chunk__8808,i__8810);var _ = cljs.core.nth.call(null,vec__8811,0,null);var w = cljs.core.nth.call(null,vec__8811,1,null);lt.object.raise.call(null,w,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8813 = seq__8807;
var G__8814 = chunk__8808;
var G__8815 = count__8809;
var G__8816 = (i__8810 + 1);
seq__8807 = G__8813;
chunk__8808 = G__8814;
count__8809 = G__8815;
i__8810 = G__8816;
continue;
}
} else
{var temp__4092__auto____$1 = cljs.core.seq.call(null,seq__8807);if(temp__4092__auto____$1)
{var seq__8807__$1 = temp__4092__auto____$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8807__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__8807__$1);{
var G__8817 = cljs.core.chunk_rest.call(null,seq__8807__$1);
var G__8818 = c__4150__auto__;
var G__8819 = cljs.core.count.call(null,c__4150__auto__);
var G__8820 = 0;
seq__8807 = G__8817;
chunk__8808 = G__8818;
count__8809 = G__8819;
i__8810 = G__8820;
continue;
}
} else
{var vec__8812 = cljs.core.first.call(null,seq__8807__$1);var _ = cljs.core.nth.call(null,vec__8812,0,null);var w = cljs.core.nth.call(null,vec__8812,1,null);lt.object.raise.call(null,w,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__8821 = cljs.core.next.call(null,seq__8807__$1);
var G__8822 = null;
var G__8823 = 0;
var G__8824 = 0;
seq__8807 = G__8821;
chunk__8808 = G__8822;
count__8809 = G__8823;
i__8810 = G__8824;
continue;
}
}
} else
{return null;
}
}
break;
}
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval-editor","eval-editor",2482317104),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Eval editor contents",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval","eval",1017029646));
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval-editor-form","eval-editor-form",4138964197),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Eval a form in editor",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval.one","eval.one",1173589382));
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval.custom","eval.custom",3328560245),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Eval custom expression in editor",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (exp,opts){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval.custom","eval.custom",3328560245),exp,opts);
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval.cancel-all!","eval.cancel-all!",3689151283),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Cancel evaluation for the current client",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;if(cljs.core.truth_(new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))))
{var seq__8825 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));var chunk__8826 = null;var count__8827 = 0;var i__8828 = 0;while(true){
if((i__8828 < count__8827))
{var vec__8829 = cljs.core._nth.call(null,chunk__8826,i__8828);var _ = cljs.core.nth.call(null,vec__8829,0,null);var client = cljs.core.nth.call(null,vec__8829,1,null);lt.objs.clients.cancel_all_BANG_.call(null,client);
{
var G__8831 = seq__8825;
var G__8832 = chunk__8826;
var G__8833 = count__8827;
var G__8834 = (i__8828 + 1);
seq__8825 = G__8831;
chunk__8826 = G__8832;
count__8827 = G__8833;
i__8828 = G__8834;
continue;
}
} else
{var temp__4092__auto____$1 = cljs.core.seq.call(null,seq__8825);if(temp__4092__auto____$1)
{var seq__8825__$1 = temp__4092__auto____$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8825__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__8825__$1);{
var G__8835 = cljs.core.chunk_rest.call(null,seq__8825__$1);
var G__8836 = c__4150__auto__;
var G__8837 = cljs.core.count.call(null,c__4150__auto__);
var G__8838 = 0;
seq__8825 = G__8835;
chunk__8826 = G__8836;
count__8827 = G__8837;
i__8828 = G__8838;
continue;
}
} else
{var vec__8830 = cljs.core.first.call(null,seq__8825__$1);var _ = cljs.core.nth.call(null,vec__8830,0,null);var client = cljs.core.nth.call(null,vec__8830,1,null);lt.objs.clients.cancel_all_BANG_.call(null,client);
{
var G__8839 = cljs.core.next.call(null,seq__8825__$1);
var G__8840 = null;
var G__8841 = 0;
var G__8842 = 0;
seq__8825 = G__8839;
chunk__8826 = G__8840;
count__8827 = G__8841;
i__8828 = G__8842;
continue;
}
}
} else
{return null;
}
}
break;
}
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"editor.disconnect-clients","editor.disconnect-clients",1348759402),new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Disconnect clients attached to editor",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var seq__8843 = cljs.core.seq.call(null,cljs.core.vals.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))));var chunk__8844 = null;var count__8845 = 0;var i__8846 = 0;while(true){
if((i__8846 < count__8845))
{var client = cljs.core._nth.call(null,chunk__8844,i__8846);lt.objs.clients.close_BANG_.call(null,client);
{
var G__8847 = seq__8843;
var G__8848 = chunk__8844;
var G__8849 = count__8845;
var G__8850 = (i__8846 + 1);
seq__8843 = G__8847;
chunk__8844 = G__8848;
count__8845 = G__8849;
i__8846 = G__8850;
continue;
}
} else
{var temp__4092__auto____$1 = cljs.core.seq.call(null,seq__8843);if(temp__4092__auto____$1)
{var seq__8843__$1 = temp__4092__auto____$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8843__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__8843__$1);{
var G__8851 = cljs.core.chunk_rest.call(null,seq__8843__$1);
var G__8852 = c__4150__auto__;
var G__8853 = cljs.core.count.call(null,c__4150__auto__);
var G__8854 = 0;
seq__8843 = G__8851;
chunk__8844 = G__8852;
count__8845 = G__8853;
i__8846 = G__8854;
continue;
}
} else
{var client = cljs.core.first.call(null,seq__8843__$1);lt.objs.clients.close_BANG_.call(null,client);
{
var G__8855 = cljs.core.next.call(null,seq__8843__$1);
var G__8856 = null;
var G__8857 = 0;
var G__8858 = 0;
seq__8843 = G__8855;
chunk__8844 = G__8856;
count__8845 = G__8857;
i__8846 = G__8858;
continue;
}
}
} else
{return null;
}
}
break;
}
} else
{return null;
}
})], null));
