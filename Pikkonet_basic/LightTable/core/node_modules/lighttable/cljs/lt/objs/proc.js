// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.proc');
goog.require('cljs.core');
goog.require('lt.objs.app');
goog.require('lt.objs.files');
goog.require('lt.objs.platform');
goog.require('lt.objs.notifos');
goog.require('lt.objs.notifos');
goog.require('clojure.string');
goog.require('lt.objs.platform');
goog.require('lt.objs.files');
goog.require('lt.objs.app');
goog.require('lt.objs.clients');
goog.require('lt.util.load');
goog.require('clojure.string');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.util.load');
goog.require('lt.objs.clients');
lt.objs.proc.shell = lt.util.load.node_module.call(null,"shelljs");
lt.objs.proc.spawn = require("child_process").spawn;
lt.objs.proc.cur_path = lt.objs.proc.shell.pwd();
lt.objs.proc.custom_env = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
lt.objs.proc.procs = cljs.core.atom.call(null,cljs.core.PersistentHashSet.EMPTY);
lt.objs.proc.add_BANG_ = (function add_BANG_(p){return cljs.core.swap_BANG_.call(null,lt.objs.proc.procs,cljs.core.conj,p);
});
lt.objs.proc.rem_BANG_ = (function rem_BANG_(p){return cljs.core.swap_BANG_.call(null,lt.objs.proc.procs,cljs.core.disj,p);
});
lt.objs.proc.kill = (function kill(p){return p.kill();
});
/**
* @param {...*} var_args
*/
lt.objs.proc.kill_all = (function() { 
var kill_all__delegate = function (p__10622){var vec__10628 = p__10622;var ps = cljs.core.nth.call(null,vec__10628,0,null);var seq__10629 = cljs.core.seq.call(null,(function (){var or__3408__auto__ = ps;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return cljs.core.deref.call(null,lt.objs.proc.procs);
}
})());var chunk__10630 = null;var count__10631 = 0;var i__10632 = 0;while(true){
if((i__10632 < count__10631))
{var p = cljs.core._nth.call(null,chunk__10630,i__10632);lt.objs.proc.kill.call(null,p);
{
var G__10633 = seq__10629;
var G__10634 = chunk__10630;
var G__10635 = count__10631;
var G__10636 = (i__10632 + 1);
seq__10629 = G__10633;
chunk__10630 = G__10634;
count__10631 = G__10635;
i__10632 = G__10636;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__10629);if(temp__4092__auto__)
{var seq__10629__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__10629__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__10629__$1);{
var G__10637 = cljs.core.chunk_rest.call(null,seq__10629__$1);
var G__10638 = c__4150__auto__;
var G__10639 = cljs.core.count.call(null,c__4150__auto__);
var G__10640 = 0;
seq__10629 = G__10637;
chunk__10630 = G__10638;
count__10631 = G__10639;
i__10632 = G__10640;
continue;
}
} else
{var p = cljs.core.first.call(null,seq__10629__$1);lt.objs.proc.kill.call(null,p);
{
var G__10641 = cljs.core.next.call(null,seq__10629__$1);
var G__10642 = null;
var G__10643 = 0;
var G__10644 = 0;
seq__10629 = G__10641;
chunk__10630 = G__10642;
count__10631 = G__10643;
i__10632 = G__10644;
continue;
}
}
} else
{return null;
}
}
break;
}
};
var kill_all = function (var_args){
var p__10622 = null;if (arguments.length > 0) {
  p__10622 = cljs.core.array_seq(Array.prototype.slice.call(arguments, 0),0);} 
return kill_all__delegate.call(this,p__10622);};
kill_all.cljs$lang$maxFixedArity = 0;
kill_all.cljs$lang$applyTo = (function (arglist__10645){
var p__10622 = cljs.core.seq(arglist__10645);
return kill_all__delegate(p__10622);
});
kill_all.cljs$core$IFn$_invoke$arity$variadic = kill_all__delegate;
return kill_all;
})()
;
lt.objs.proc.parse_commands = (function parse_commands(com){var pipes = clojure.string.split.call(null,com,"|");var iter__4119__auto__ = (function iter__10650(s__10651){return (new cljs.core.LazySeq(null,(function (){var s__10651__$1 = s__10651;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__10651__$1);if(temp__4092__auto__)
{var s__10651__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__10651__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__10651__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__10653 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__10652 = 0;while(true){
if((i__10652 < size__4118__auto__))
{var p = cljs.core._nth.call(null,c__4117__auto__,i__10652);var args = cljs.core.filter.call(null,cljs.core.complement.call(null,cljs.core.empty_QMARK_),cljs.core.re_seq.call(null,/(?:(?:\\\s)|[^\s\"'])+|\"[^\"]*\"|'[^']*'/,p));cljs.core.chunk_append.call(null,b__10653,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"command","command",1964298941),cljs.core.first.call(null,args),new cljs.core.Keyword(null,"args","args",1016906831),cljs.core.rest.call(null,args)], null));
{
var G__10654 = (i__10652 + 1);
i__10652 = G__10654;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10653),iter__10650.call(null,cljs.core.chunk_rest.call(null,s__10651__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10653),null);
}
} else
{var p = cljs.core.first.call(null,s__10651__$2);var args = cljs.core.filter.call(null,cljs.core.complement.call(null,cljs.core.empty_QMARK_),cljs.core.re_seq.call(null,/(?:(?:\\\s)|[^\s\"'])+|\"[^\"]*\"|'[^']*'/,p));return cljs.core.cons.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"command","command",1964298941),cljs.core.first.call(null,args),new cljs.core.Keyword(null,"args","args",1016906831),cljs.core.rest.call(null,args)], null),iter__10650.call(null,cljs.core.rest.call(null,s__10651__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,pipes);
});
lt.objs.proc.merge_env = (function merge_env(env){if(cljs.core.not.call(null,env))
{return process.env;
} else
{return cljs.core.clj__GT_js.call(null,cljs.core.merge.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,(function (){var iter__4119__auto__ = (function iter__10659(s__10660){return (new cljs.core.LazySeq(null,(function (){var s__10660__$1 = s__10660;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__10660__$1);if(temp__4092__auto__)
{var s__10660__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__10660__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__10660__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__10662 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__10661 = 0;while(true){
if((i__10661 < size__4118__auto__))
{var k = cljs.core._nth.call(null,c__4117__auto__,i__10661);cljs.core.chunk_append.call(null,b__10662,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [k,(process.env[k])], null));
{
var G__10663 = (i__10661 + 1);
i__10661 = G__10663;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10662),iter__10659.call(null,cljs.core.chunk_rest.call(null,s__10660__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10662),null);
}
} else
{var k = cljs.core.first.call(null,s__10660__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [k,(process.env[k])], null),iter__10659.call(null,cljs.core.rest.call(null,s__10660__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,Object.keys(process.env));
})()),env,cljs.core.deref.call(null,lt.objs.proc.custom_env)));
}
});
lt.objs.proc.simple_spawn_STAR_ = (function simple_spawn_STAR_(obj,p__10668,cwd_QMARK_,env){var map__10672 = p__10668;var map__10672__$1 = ((cljs.core.seq_QMARK_.call(null,map__10672))?cljs.core.apply.call(null,cljs.core.hash_map,map__10672):map__10672);var args = cljs.core.get.call(null,map__10672__$1,new cljs.core.Keyword(null,"args","args",1016906831));var command = cljs.core.get.call(null,map__10672__$1,new cljs.core.Keyword(null,"command","command",1964298941));var proc = lt.objs.proc.spawn.call(null,command,((cljs.core.seq.call(null,args))?cljs.core.clj__GT_js.call(null,args):null),(function (){var obj10674 = {"cwd":cwd_QMARK_,"env":lt.objs.proc.merge_env.call(null,env),"windowsVerbatimArguments":((cljs.core._EQ_.call(null,process.platform,"win32"))?true:null)};return obj10674;
})());lt.objs.proc.add_BANG_.call(null,proc);
proc.on("exit",cljs.core.partial.call(null,lt.objs.proc.rem_BANG_,proc));
proc.on("error",(function (p1__10664_SHARP_){if(cljs.core.truth_(cljs.core.deref.call(null,obj)))
{cljs.core.println.call(null,[cljs.core.str(p1__10664_SHARP_)].join(''),([cljs.core.str(p1__10664_SHARP_)].join('').indexOf("ENOENT") > -1));
if(([cljs.core.str(p1__10664_SHARP_)].join('').indexOf("ENOENT") > -1))
{lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"proc.error","proc.error",4143512802),[cljs.core.str("Could not find command: "),cljs.core.str(command)].join(''));
lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"proc.exit","proc.exit",4162906152));
return proc.kill();
} else
{return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"proc.error","proc.error",4143512802),p1__10664_SHARP_);
}
} else
{return null;
}
}));
proc.stderr.on("data",(function (p1__10665_SHARP_){if(cljs.core.not.call(null,cljs.core.deref.call(null,obj)))
{return cljs.core.println.call(null,"ERROR running: ",command);
} else
{return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"proc.error","proc.error",4143512802),p1__10665_SHARP_);
}
}));
proc.stdout.on("data",(function (p1__10666_SHARP_){if(cljs.core.truth_(cljs.core.deref.call(null,obj)))
{return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"proc.out","proc.out",4302083112),p1__10666_SHARP_);
} else
{return null;
}
}));
return proc.on("exit",(function (p1__10667_SHARP_){if(cljs.core.truth_(cljs.core.deref.call(null,obj)))
{return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"proc.exit","proc.exit",4162906152),p1__10667_SHARP_);
} else
{return null;
}
}),proc);
});
lt.objs.proc.exec = (function exec(com){var map__10680 = com;var map__10680__$1 = ((cljs.core.seq_QMARK_.call(null,map__10680))?cljs.core.apply.call(null,cljs.core.hash_map,map__10680):map__10680);var this$ = map__10680__$1;var args = cljs.core.get.call(null,map__10680__$1,new cljs.core.Keyword(null,"args","args",1016906831));var env = cljs.core.get.call(null,map__10680__$1,new cljs.core.Keyword(null,"env","env",1014004831));var cwd = cljs.core.get.call(null,map__10680__$1,new cljs.core.Keyword(null,"cwd","cwd",1014003170));var obj = cljs.core.get.call(null,map__10680__$1,new cljs.core.Keyword(null,"obj","obj",1014014057));var command = cljs.core.get.call(null,map__10680__$1,new cljs.core.Keyword(null,"command","command",1964298941));var commands = ((cljs.core.not.call(null,args))?lt.objs.proc.parse_commands.call(null,command):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [this$], null));var procs = cljs.core.doall.call(null,(function (){var iter__4119__auto__ = ((function (map__10680,map__10680__$1,this$,args,env,cwd,obj,command,commands){
return (function iter__10681(s__10682){return (new cljs.core.LazySeq(null,((function (map__10680,map__10680__$1,this$,args,env,cwd,obj,command,commands){
return (function (){var s__10682__$1 = s__10682;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__10682__$1);if(temp__4092__auto__)
{var s__10682__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__10682__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__10682__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__10684 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__10683 = 0;while(true){
if((i__10683 < size__4118__auto__))
{var c = cljs.core._nth.call(null,c__4117__auto__,i__10683);cljs.core.chunk_append.call(null,b__10684,lt.objs.proc.simple_spawn_STAR_.call(null,obj,c,cwd,env));
{
var G__10685 = (i__10683 + 1);
i__10683 = G__10685;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10684),iter__10681.call(null,cljs.core.chunk_rest.call(null,s__10682__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10684),null);
}
} else
{var c = cljs.core.first.call(null,s__10682__$2);return cljs.core.cons.call(null,lt.objs.proc.simple_spawn_STAR_.call(null,obj,c,cwd,env),iter__10681.call(null,cljs.core.rest.call(null,s__10682__$2)));
}
} else
{return null;
}
break;
}
});})(map__10680,map__10680__$1,this$,args,env,cwd,obj,command,commands))
,null,null));
});})(map__10680,map__10680__$1,this$,args,env,cwd,obj,command,commands))
;return iter__4119__auto__.call(null,commands);
})());lt.object.merge_BANG_.call(null,obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"procs","procs",1120844623),procs], null));
return null;
});
lt.objs.proc.__BEH__kill_procs_on_close = (function __BEH__kill_procs_on_close(this$){return lt.objs.proc.kill_all.call(null);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.proc","kill-procs-on-close","lt.objs.proc/kill-procs-on-close",3952147241),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.proc.__BEH__kill_procs_on_close,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"closed","closed",3951351006),null], null), null));
lt.object.add_behavior_BANG_.call(null,lt.objs.app.app,new cljs.core.Keyword("lt.objs.proc","kill-procs-on-close","lt.objs.proc/kill-procs-on-close",3952147241));
lt.objs.proc.__BEH__print_all = (function __BEH__print_all(this$,data){return cljs.core.println.call(null,"PROC: ",data);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.proc","print-all","lt.objs.proc/print-all",2960515937),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.proc.__BEH__print_all,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"proc.out","proc.out",4302083112),null,new cljs.core.Keyword(null,"proc.exit","proc.exit",4162906152),null,new cljs.core.Keyword(null,"proc.error","proc.error",4143512802),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.proc","test-printer","lt.objs.proc/test-printer",4004228547),new cljs.core.Keyword(null,"triggers","triggers",2516997421),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"behaviors","behaviors",607554515),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("lt.objs.proc","print-all","lt.objs.proc/print-all",2960515937)], null),new cljs.core.Keyword(null,"init","init",1017141378),(function (){return null;
}));
lt.objs.proc.printer = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.proc","test-printer","lt.objs.proc/test-printer",4004228547));
lt.objs.proc.find_path_files = (function find_path_files(){return cljs.core.filter.call(null,lt.objs.files.exists_QMARK_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.files.home.call(null,".profile"),lt.objs.files.home.call(null,".bash_profile")], null));
});
lt.objs.proc.get_path_command = (function get_path_command(){return [cljs.core.str(cljs.core.reduce.call(null,(function (fin,cur){return [cljs.core.str(fin),cljs.core.str("source "),cljs.core.str(cur),cljs.core.str(" && ")].join('');
}),"",lt.objs.proc.find_path_files.call(null))),cljs.core.str("echo $PATH")].join('');
});
lt.objs.proc.etc_paths__GT_PATH = (function etc_paths__GT_PATH(){if(cljs.core.not.call(null,lt.objs.files.exists_QMARK_.call(null,"/etc/paths")))
{return "";
} else
{var ps = clojure.string.split.call(null,new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(lt.objs.files.open_sync.call(null,"/etc/paths")),"\n");var path_str = cljs.core.reduce.call(null,cljs.core.str,cljs.core.interpose.call(null,":",cljs.core.filter.call(null,cljs.core.complement.call(null,cljs.core.empty_QMARK_),ps)));return [cljs.core.str("PATH="),cljs.core.str(path_str),cljs.core.str(":$PATH && ")].join('');
}
});
lt.objs.proc.__BEH__set_path_OSX = (function __BEH__set_path_OSX(app){if((lt.objs.platform.mac_QMARK_.call(null)) && (cljs.core.not.call(null,(process.env["LTCLI"]))))
{return require("child_process").exec([cljs.core.str(lt.objs.proc.etc_paths__GT_PATH.call(null)),cljs.core.str(lt.objs.proc.get_path_command.call(null))].join(''),(function (err,out,serr){if(!(cljs.core.empty_QMARK_.call(null,err)))
{lt.objs.notifos.set_msg_BANG_.call(null,"Failed to source PATH files. See console log for details.",new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),"error"], null));
return console.error(err);
} else
{if(cljs.core.empty_QMARK_.call(null,out))
{return null;
} else
{return process.env.PATH = out;
}
}
}));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.proc","set-path-OSX","lt.objs.proc/set-path-OSX",1465476923),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.proc.__BEH__set_path_OSX,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.proc.__BEH__global_path = (function __BEH__global_path(app,path){return process.env.PATH = path;
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.proc","global-path","lt.objs.proc/global-path",3390755827),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.proc.__BEH__global_path,new cljs.core.Keyword(null,"desc","desc",1016984067),"App: set global PATH for processes",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"label","label",1116631654),"path"], null)], null),new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"object.instant","object.instant",773332388),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"user","user",1017503549),new cljs.core.Keyword(null,"exclusive","exclusive",2700522000),true);
lt.objs.proc.__BEH__global_env = (function __BEH__global_env(app,kvs){return cljs.core.reset_BANG_.call(null,lt.objs.proc.custom_env,kvs);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.proc","global-env","lt.objs.proc/global-env",3363957799),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.proc.__BEH__global_env,new cljs.core.Keyword(null,"desc","desc",1016984067),"App: add to the global ENV for processes",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"label","label",1116631654),"env map"], null)], null),new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"object.instant","object.instant",773332388),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"user","user",1017503549),new cljs.core.Keyword(null,"exclusive","exclusive",2700522000),true);
lt.objs.proc.var_caps = (function var_caps(vs){if(lt.objs.platform.win_QMARK_.call(null))
{return [cljs.core.str("echo "),cljs.core.str(cljs.core.apply.call(null,cljs.core.str,cljs.core.map.call(null,(function (p1__10686_SHARP_){return [cljs.core.str("%"),cljs.core.str(p1__10686_SHARP_),cljs.core.str("%;")].join('');
}),vs)))].join('');
} else
{return [cljs.core.str("echo \""),cljs.core.str(cljs.core.apply.call(null,cljs.core.str,cljs.core.map.call(null,(function (p1__10687_SHARP_){return [cljs.core.str("$"),cljs.core.str(p1__10687_SHARP_),cljs.core.str(";")].join('');
}),vs))),cljs.core.str("\"")].join('');
}
});
lt.objs.proc.capture = (function capture(cmd,vars,cb){return require("child_process").exec([cljs.core.str(cmd),cljs.core.str(" && "),cljs.core.str(lt.objs.proc.var_caps.call(null,vars))].join(''),(function (err,out,serr){var vs = cljs.core.zipmap.call(null,vars,clojure.string.split.call(null,out,";"));return cb.call(null,vs);
}));
});
