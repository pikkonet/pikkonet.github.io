// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.find');
goog.require('cljs.core');
goog.require('lt.util.style');
goog.require('crate.binding');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.statusbar');
goog.require('lt.util.dom');
goog.require('lt.objs.context');
goog.require('lt.objs.context');
goog.require('lt.util.dom');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.canvas');
goog.require('lt.objs.statusbar');
goog.require('lt.util.load');
goog.require('crate.binding');
goog.require('lt.objs.keyboard');
goog.require('lt.objs.editor');
goog.require('lt.objs.canvas');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.util.load');
goog.require('lt.util.style');
goog.require('lt.objs.editor');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.keyboard');
lt.objs.find.find_height = 30;
lt.objs.find.input = (function input(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.find","input.find",2354911439),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"find"], null)], null));var seq__8923_8929 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"keyup","keyup",1115849900),(function (){var me = this;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.util.dom.val.call(null,me));
}),new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"find-bar","find-bar",4628501873),this$);
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"find-bar","find-bar",4628501873));
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
})], null)));var chunk__8924_8930 = null;var count__8925_8931 = 0;var i__8926_8932 = 0;while(true){
if((i__8926_8932 < count__8925_8931))
{var vec__8927_8933 = cljs.core._nth.call(null,chunk__8924_8930,i__8926_8932);var ev__4336__auto___8934 = cljs.core.nth.call(null,vec__8927_8933,0,null);var func__4337__auto___8935 = cljs.core.nth.call(null,vec__8927_8933,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8934,func__4337__auto___8935);
{
var G__8936 = seq__8923_8929;
var G__8937 = chunk__8924_8930;
var G__8938 = count__8925_8931;
var G__8939 = (i__8926_8932 + 1);
seq__8923_8929 = G__8936;
chunk__8924_8930 = G__8937;
count__8925_8931 = G__8938;
i__8926_8932 = G__8939;
continue;
}
} else
{var temp__4092__auto___8940 = cljs.core.seq.call(null,seq__8923_8929);if(temp__4092__auto___8940)
{var seq__8923_8941__$1 = temp__4092__auto___8940;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8923_8941__$1))
{var c__4150__auto___8942 = cljs.core.chunk_first.call(null,seq__8923_8941__$1);{
var G__8943 = cljs.core.chunk_rest.call(null,seq__8923_8941__$1);
var G__8944 = c__4150__auto___8942;
var G__8945 = cljs.core.count.call(null,c__4150__auto___8942);
var G__8946 = 0;
seq__8923_8929 = G__8943;
chunk__8924_8930 = G__8944;
count__8925_8931 = G__8945;
i__8926_8932 = G__8946;
continue;
}
} else
{var vec__8928_8947 = cljs.core.first.call(null,seq__8923_8941__$1);var ev__4336__auto___8948 = cljs.core.nth.call(null,vec__8928_8947,0,null);var func__4337__auto___8949 = cljs.core.nth.call(null,vec__8928_8947,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8948,func__4337__auto___8949);
{
var G__8950 = cljs.core.next.call(null,seq__8923_8941__$1);
var G__8951 = null;
var G__8952 = 0;
var G__8953 = 0;
seq__8923_8929 = G__8950;
chunk__8924_8930 = G__8951;
count__8925_8931 = G__8952;
i__8926_8932 = G__8953;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.find.replace_input = (function replace_input(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.replace","input.replace",1121297410),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"replace"], null)], null));var seq__8960_8966 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"keyup","keyup",1115849900),(function (){var me = this;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"replace.changed","replace.changed",762914028),lt.util.dom.val.call(null,me));
}),new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"find-bar.replace","find-bar.replace",4492994871),this$);
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"find-bar.replace","find-bar.replace",4492994871));
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
})], null)));var chunk__8961_8967 = null;var count__8962_8968 = 0;var i__8963_8969 = 0;while(true){
if((i__8963_8969 < count__8962_8968))
{var vec__8964_8970 = cljs.core._nth.call(null,chunk__8961_8967,i__8963_8969);var ev__4336__auto___8971 = cljs.core.nth.call(null,vec__8964_8970,0,null);var func__4337__auto___8972 = cljs.core.nth.call(null,vec__8964_8970,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8971,func__4337__auto___8972);
{
var G__8973 = seq__8960_8966;
var G__8974 = chunk__8961_8967;
var G__8975 = count__8962_8968;
var G__8976 = (i__8963_8969 + 1);
seq__8960_8966 = G__8973;
chunk__8961_8967 = G__8974;
count__8962_8968 = G__8975;
i__8963_8969 = G__8976;
continue;
}
} else
{var temp__4092__auto___8977 = cljs.core.seq.call(null,seq__8960_8966);if(temp__4092__auto___8977)
{var seq__8960_8978__$1 = temp__4092__auto___8977;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8960_8978__$1))
{var c__4150__auto___8979 = cljs.core.chunk_first.call(null,seq__8960_8978__$1);{
var G__8980 = cljs.core.chunk_rest.call(null,seq__8960_8978__$1);
var G__8981 = c__4150__auto___8979;
var G__8982 = cljs.core.count.call(null,c__4150__auto___8979);
var G__8983 = 0;
seq__8960_8966 = G__8980;
chunk__8961_8967 = G__8981;
count__8962_8968 = G__8982;
i__8963_8969 = G__8983;
continue;
}
} else
{var vec__8965_8984 = cljs.core.first.call(null,seq__8960_8978__$1);var ev__4336__auto___8985 = cljs.core.nth.call(null,vec__8965_8984,0,null);var func__4337__auto___8986 = cljs.core.nth.call(null,vec__8965_8984,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8985,func__4337__auto___8986);
{
var G__8987 = cljs.core.next.call(null,seq__8960_8978__$1);
var G__8988 = null;
var G__8989 = 0;
var G__8990 = 0;
seq__8960_8966 = G__8987;
chunk__8961_8967 = G__8988;
count__8962_8968 = G__8989;
i__8963_8969 = G__8990;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.find.replace_all_button = (function replace_all_button(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),"all"], null));var seq__8997_9003 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"find.replace-all","find.replace-all",2877618629));
})], null)));var chunk__8998_9004 = null;var count__8999_9005 = 0;var i__9000_9006 = 0;while(true){
if((i__9000_9006 < count__8999_9005))
{var vec__9001_9007 = cljs.core._nth.call(null,chunk__8998_9004,i__9000_9006);var ev__4336__auto___9008 = cljs.core.nth.call(null,vec__9001_9007,0,null);var func__4337__auto___9009 = cljs.core.nth.call(null,vec__9001_9007,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9008,func__4337__auto___9009);
{
var G__9010 = seq__8997_9003;
var G__9011 = chunk__8998_9004;
var G__9012 = count__8999_9005;
var G__9013 = (i__9000_9006 + 1);
seq__8997_9003 = G__9010;
chunk__8998_9004 = G__9011;
count__8999_9005 = G__9012;
i__9000_9006 = G__9013;
continue;
}
} else
{var temp__4092__auto___9014 = cljs.core.seq.call(null,seq__8997_9003);if(temp__4092__auto___9014)
{var seq__8997_9015__$1 = temp__4092__auto___9014;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8997_9015__$1))
{var c__4150__auto___9016 = cljs.core.chunk_first.call(null,seq__8997_9015__$1);{
var G__9017 = cljs.core.chunk_rest.call(null,seq__8997_9015__$1);
var G__9018 = c__4150__auto___9016;
var G__9019 = cljs.core.count.call(null,c__4150__auto___9016);
var G__9020 = 0;
seq__8997_9003 = G__9017;
chunk__8998_9004 = G__9018;
count__8999_9005 = G__9019;
i__9000_9006 = G__9020;
continue;
}
} else
{var vec__9002_9021 = cljs.core.first.call(null,seq__8997_9015__$1);var ev__4336__auto___9022 = cljs.core.nth.call(null,vec__9002_9021,0,null);var func__4337__auto___9023 = cljs.core.nth.call(null,vec__9002_9021,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9022,func__4337__auto___9023);
{
var G__9024 = cljs.core.next.call(null,seq__8997_9015__$1);
var G__9025 = null;
var G__9026 = 0;
var G__9027 = 0;
seq__8997_9003 = G__9024;
chunk__8998_9004 = G__9025;
count__8999_9005 = G__9026;
i__9000_9006 = G__9027;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.find.current_ed = (function current_ed(){return lt.objs.editor.__GT_cm_ed.call(null,lt.objs.editor.pool.last_active.call(null));
});
lt.objs.find.__GT_shown_width = (function __GT_shown_width(shown_QMARK_){if(cljs.core.truth_(shown_QMARK_))
{return "";
} else
{return "0";
}
});
lt.objs.find.__GT_val = (function __GT_val(this$){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input.find","input.find",2354911439),lt.object.__GT_content.call(null,this$)));
});
lt.objs.find.__GT_replacement = (function __GT_replacement(this$){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input.replace","input.replace",1121297410),lt.object.__GT_content.call(null,this$)));
});
lt.objs.find.set_val = (function set_val(this$,v){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input.find","input.find",2354911439),lt.object.__GT_content.call(null,this$)),v);
});
lt.objs.find.__BEH__hide_BANG_ = (function __BEH__hide_BANG_(this$){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.objs.editor.focus.call(null,ed);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","hide!","lt.objs.find/hide!",2156838397),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__hide_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hide!","hide!",1113177745),null], null), null));
lt.objs.find.__BEH__next_BANG_ = (function __BEH__next_BANG_(this$){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var cur = temp__4092__auto__;if(cljs.core.truth_((function (){var and__3396__auto__ = new cljs.core.Keyword(null,"searching?","searching?",4599032247).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));if(cljs.core.truth_(and__3396__auto__))
{return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"searching.for","searching.for",2610146695).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur)),lt.objs.find.__GT_val.call(null,this$));
} else
{return and__3396__auto__;
}
})()))
{return CodeMirror.commands.findNext(lt.objs.find.current_ed.call(null),new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.objs.find.__GT_val.call(null,this$));
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","next!","lt.objs.find/next!",2149177006),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__next_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"next!","next!",1118619392),null], null), null));
lt.objs.find.__BEH__prev_BANG_ = (function __BEH__prev_BANG_(this$){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var cur = temp__4092__auto__;if(cljs.core.truth_((function (){var and__3396__auto__ = new cljs.core.Keyword(null,"searching?","searching?",4599032247).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));if(cljs.core.truth_(and__3396__auto__))
{return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"searching.for","searching.for",2610146695).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur)),lt.objs.find.__GT_val.call(null,this$));
} else
{return and__3396__auto__;
}
})()))
{return CodeMirror.commands.findPrev(lt.objs.find.current_ed.call(null),new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.objs.find.__GT_val.call(null,this$));
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","prev!","lt.objs.find/prev!",2146953582),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__prev_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"prev!","prev!",1120835520),null], null), null));
lt.objs.find.__BEH__focus_BANG_ = (function __BEH__focus_BANG_(this$){var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));lt.util.dom.focus.call(null,input);
return input.select();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","focus!","lt.objs.find/focus!",3523298151),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",4039653819),null], null), null));
lt.objs.find.__BEH__clear_BANG_ = (function __BEH__clear_BANG_(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"searching?","searching?",4599032247),false], null));
var temp__4092__auto___9028 = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto___9028))
{var ed_9029 = temp__4092__auto___9028;CodeMirror.commands.clearSearch(lt.objs.editor.__GT_cm_ed.call(null,ed_9029));
} else
{}
var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));if(cljs.core._EQ_.call(null,"",lt.util.dom.val.call(null,input)))
{return lt.util.dom.val.call(null,input,"");
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","clear!","lt.objs.find/clear!",2808649292),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__clear_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.find.__BEH__replace_BANG_ = (function __BEH__replace_BANG_(this$,all_QMARK_){if(cljs.core.truth_(new cljs.core.Keyword(null,"searching?","searching?",4599032247).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{} else
{lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.objs.find.__GT_val.call(null,this$));
}
CodeMirror.commands.replace(lt.objs.editor.__GT_cm_ed.call(null,lt.objs.editor.pool.last_active.call(null)),lt.objs.find.__GT_replacement.call(null,this$),new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),cljs.core.boolean$.call(null,all_QMARK_));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"next!","next!",1118619392));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","replace!","lt.objs.find/replace!",1610475715),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__replace_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"replace!","replace!",583571295),null], null), null));
lt.objs.find.__BEH__search_BANG_ = (function __BEH__search_BANG_(this$,v){if(cljs.core.empty_QMARK_.call(null,v))
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var e = temp__4092__auto__;lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"searching?","searching?",4599032247),true], null));
lt.object.merge_BANG_.call(null,e,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"searching.for","searching.for",2610146695),v], null));
var ed = lt.objs.editor.__GT_cm_ed.call(null,e);return CodeMirror.commands.find(ed,v,new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{return null;
}
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","search!","lt.objs.find/search!",4580588119),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__search_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"search!","search!",2982232811),null], null), null),new cljs.core.Keyword(null,"debounce","debounce",1556599227),50);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","find-bar","lt.objs.find/find-bar",1860577053),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"find-bar","find-bar",4628501873),null], null), null),new cljs.core.Keyword(null,"height","height",4087841945),30,new cljs.core.Keyword(null,"order","order",1119910592),-1,new cljs.core.Keyword(null,"searching?","searching?",4599032247),false,new cljs.core.Keyword(null,"reverse?","reverse?",749403407),false,new cljs.core.Keyword(null,"shown","shown",1123317891),false,new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#find-bar","div#find-bar",4400386339),lt.objs.find.input.call(null,this$),lt.objs.find.replace_input.call(null,this$),lt.objs.find.replace_all_button.call(null,this$)], null);
}));
lt.objs.find.__BEH__init = (function __BEH__init(this$){lt.util.load.js.call(null,"core/node_modules/codemirror/search.js",new cljs.core.Keyword(null,"sync","sync",1017449997));
return lt.util.load.js.call(null,"core/node_modules/codemirror/searchcursor.js",new cljs.core.Keyword(null,"sync","sync",1017449997));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","init","lt.objs.find/init",2521376816),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__init,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.find.bar = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.find","find-bar","lt.objs.find/find-bar",1860577053));
lt.objs.statusbar.add_container.call(null,lt.objs.find.bar);
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.show","find.show",1398717828),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: In current editor",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (rev_QMARK_){lt.object.merge_BANG_.call(null,lt.objs.find.bar,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"reverse?","reverse?",749403407),rev_QMARK_], null));
lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"show!","show!",1123317814));
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.fill-selection","find.fill-selection",632770057),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Fill with selection",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var e = temp__4092__auto__;var temp__4092__auto____$1 = lt.objs.editor.selection.call(null,e);if(cljs.core.truth_(temp__4092__auto____$1))
{var sel = temp__4092__auto____$1;if(cljs.core.empty_QMARK_.call(null,sel))
{return null;
} else
{return lt.objs.find.set_val.call(null,lt.objs.find.bar,sel);
}
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.clear","find.clear",4338523466),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Clear the find bar",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.hide","find.hide",1398390729),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Hide the find bar",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"hide!","hide!",1113177745));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.next","find.next",1398566266),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Next find result",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"next!","next!",1118619392));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.prev","find.prev",1398637754),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Previous find result",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"prev!","prev!",1120835520));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.replace","find.replace",755032817),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Replace current",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"replace!","replace!",583571295));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.replace-all","find.replace-all",2877618629),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Replace all occurrences",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"replace!","replace!",583571295),new cljs.core.Keyword(null,"all","all",1014000915));
})], null));
lt.objs.find.line_input = lt.objs.sidebar.command.options_input.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"line number"], null));
lt.objs.find.__BEH__exec_active_BANG_ = (function __BEH__exec_active_BANG_(this$,l){return lt.objs.sidebar.command.exec_active_BANG_.call(null,l);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","exec-active!","lt.objs.find/exec-active!",4519874941),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__exec_active_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select","select",4402849902),null], null), null));
lt.object.add_behavior_BANG_.call(null,lt.objs.find.line_input,new cljs.core.Keyword("lt.objs.find","exec-active!","lt.objs.find/exec-active!",4519874941));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"goto-line","goto-line",2802035088),new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Goto line",new cljs.core.Keyword(null,"options","options",4059396624),lt.objs.find.line_input,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (l){if((typeof l === 'number') || (!(cljs.core.empty_QMARK_.call(null,l))))
{var cur = lt.objs.editor.pool.last_active.call(null);lt.objs.editor.move_cursor.call(null,cur,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"ch","ch",1013907415),0,new cljs.core.Keyword(null,"line","line",1017226086),(((!(typeof l === 'number'))?parseInt(l):l) - 1)], null));
return lt.objs.editor.center_cursor.call(null,cur);
} else
{return null;
}
})], null));
