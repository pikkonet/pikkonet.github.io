// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.sidebar.command');
goog.require('cljs.core');
goog.require('lt.util.cljs');
goog.require('crate.binding');
goog.require('lt.objs.app');
goog.require('lt.util.dom');
goog.require('lt.objs.sidebar');
goog.require('lt.objs.context');
goog.require('crate.core');
goog.require('lt.objs.context');
goog.require('lt.util.dom');
goog.require('lt.objs.sidebar');
goog.require('clojure.string');
goog.require('lt.util.cljs');
goog.require('lt.objs.command');
goog.require('lt.objs.app');
goog.require('lt.util.load');
goog.require('clojure.string');
goog.require('crate.binding');
goog.require('lt.objs.keyboard');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.util.load');
goog.require('crate.core');
goog.require('lt.objs.command');
goog.require('lt.objs.keyboard');
lt.util.load.js.call(null,"core/node_modules/lighttable/util/fuzzy.js",new cljs.core.Keyword(null,"sync","sync",1017449997));
lt.objs.sidebar.command.__BEH__op_select_BANG_ = (function __BEH__op_select_BANG_(this$,idx){var input = lt.object.__GT_content.call(null,this$);lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"select","select",4402849902),lt.util.dom.val.call(null,input));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"selected","selected",2205476365));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","op-select!","lt.objs.sidebar.command/op-select!",3738729249),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__op_select_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select!","select!",2992004631),null], null), null));
lt.objs.sidebar.command.__BEH__op_clear_BANG_ = (function __BEH__op_clear_BANG_(this$){var input = lt.object.__GT_content.call(null,this$);lt.util.dom.val.call(null,input,"");
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"change!","change!",1752847843),"");
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","op-clear!","lt.objs.sidebar.command/op-clear!",4705248442),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__op_clear_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.sidebar.command.__BEH__op_focus_BANG_ = (function __BEH__op_focus_BANG_(this$){var input = lt.object.__GT_content.call(null,this$);lt.util.dom.focus.call(null,input);
return input.select();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","op-focus!","lt.objs.sidebar.command/op-focus!",597430821),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__op_focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",4039653819),null], null), null));
lt.objs.sidebar.command.__GT_value = (function __GT_value(p__11311){var map__11313 = p__11311;var map__11313__$1 = ((cljs.core.seq_QMARK_.call(null,map__11313))?cljs.core.apply.call(null,cljs.core.hash_map,map__11313):map__11313);var value = cljs.core.get.call(null,map__11313__$1,new cljs.core.Keyword(null,"value","value",1125876963));if(cljs.core.not.call(null,value))
{return "";
} else
{return value;
}
});
lt.objs.sidebar.command.input__GT_value = (function input__GT_value(this$){return lt.util.dom.val.call(null,lt.object.__GT_content.call(null,this$));
});
lt.objs.sidebar.command.op_input = (function op_input(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.option","input.option",1495945867),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),crate.binding.bound.call(null,this$,new cljs.core.Keyword(null,"placeholder","placeholder",1612151013)),new cljs.core.Keyword(null,"value","value",1125876963),crate.binding.bound.call(null,this$,lt.objs.sidebar.command.__GT_value)], null)], null));var seq__11320_11326 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",1111509066),(function (e){lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"options-input","options-input",2975266637),this$);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (e){lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"options-input","options-input",2975266637),this$);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
}),new cljs.core.Keyword(null,"keyup","keyup",1115849900),(function (e){var me = this;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"change!","change!",1752847843),lt.util.dom.val.call(null,me));
})], null)));var chunk__11321_11327 = null;var count__11322_11328 = 0;var i__11323_11329 = 0;while(true){
if((i__11323_11329 < count__11322_11328))
{var vec__11324_11330 = cljs.core._nth.call(null,chunk__11321_11327,i__11323_11329);var ev__4336__auto___11331 = cljs.core.nth.call(null,vec__11324_11330,0,null);var func__4337__auto___11332 = cljs.core.nth.call(null,vec__11324_11330,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11331,func__4337__auto___11332);
{
var G__11333 = seq__11320_11326;
var G__11334 = chunk__11321_11327;
var G__11335 = count__11322_11328;
var G__11336 = (i__11323_11329 + 1);
seq__11320_11326 = G__11333;
chunk__11321_11327 = G__11334;
count__11322_11328 = G__11335;
i__11323_11329 = G__11336;
continue;
}
} else
{var temp__4092__auto___11337 = cljs.core.seq.call(null,seq__11320_11326);if(temp__4092__auto___11337)
{var seq__11320_11338__$1 = temp__4092__auto___11337;if(cljs.core.chunked_seq_QMARK_.call(null,seq__11320_11338__$1))
{var c__4150__auto___11339 = cljs.core.chunk_first.call(null,seq__11320_11338__$1);{
var G__11340 = cljs.core.chunk_rest.call(null,seq__11320_11338__$1);
var G__11341 = c__4150__auto___11339;
var G__11342 = cljs.core.count.call(null,c__4150__auto___11339);
var G__11343 = 0;
seq__11320_11326 = G__11340;
chunk__11321_11327 = G__11341;
count__11322_11328 = G__11342;
i__11323_11329 = G__11343;
continue;
}
} else
{var vec__11325_11344 = cljs.core.first.call(null,seq__11320_11338__$1);var ev__4336__auto___11345 = cljs.core.nth.call(null,vec__11325_11344,0,null);var func__4337__auto___11346 = cljs.core.nth.call(null,vec__11325_11344,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11345,func__4337__auto___11346);
{
var G__11347 = cljs.core.next.call(null,seq__11320_11338__$1);
var G__11348 = null;
var G__11349 = 0;
var G__11350 = 0;
seq__11320_11326 = G__11347;
chunk__11321_11327 = G__11348;
count__11322_11328 = G__11349;
i__11323_11329 = G__11350;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","options-input","lt.objs.sidebar.command/options-input",3682181571),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"options-input","options-input",2975266637),null], null), null),new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"search",new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,opts){lt.object.merge_BANG_.call(null,this$,opts);
return lt.objs.sidebar.command.op_input.call(null,this$);
}));
lt.objs.sidebar.command.options_input = (function options_input(opts){var lst = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","options-input","lt.objs.sidebar.command/options-input",3682181571),opts);lt.object.raise.call(null,lst,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
return lst;
});
lt.objs.sidebar.command.input_val = (function input_val(this$){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$)));
});
lt.objs.sidebar.command.set_val = (function set_val(this$,v){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$)),v);
});
lt.objs.sidebar.command.set_and_select = (function set_and_select(this$,v){lt.objs.sidebar.command.set_val.call(null,this$,v);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"change!","change!",1752847843),v);
});
lt.objs.sidebar.command.current_selected = (function current_selected(this$){var cur = lt.objs.sidebar.command.indexed_results.call(null,cljs.core.deref.call(null,this$));var cnt = cljs.core.count.call(null,cur);var idx = new cljs.core.Keyword(null,"selected","selected",2205476365).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var i = cljs.core.mod.call(null,idx,(((cnt > new cljs.core.Keyword(null,"size","size",1017434995).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))?new cljs.core.Keyword(null,"size","size",1017434995).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)):cnt));if((cnt > 0))
{return ((cur[i])[0]);
} else
{return null;
}
});
lt.objs.sidebar.command.ensure_visible = (function ensure_visible(this$){var list = lt.util.dom.$.call(null,"ul",lt.object.__GT_content.call(null,this$));var elem = lt.util.dom.$.call(null,".selected",list);if((elem.offsetTop < list.scrollTop))
{return list.scrollTop = (elem.offsetTop - 15);
} else
{if(((elem.offsetTop + elem.offsetHeight) > (list.scrollTop + list.clientHeight)))
{return list.scrollTop = (((elem.offsetTop + elem.offsetHeight) + 15) - list.clientHeight);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return null;
} else
{return null;
}
}
}
});
lt.objs.sidebar.command.__BEH__move_selection = (function __BEH__move_selection(this$,dir){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"set-selection!","set-selection!",4610208210),(dir + new cljs.core.Keyword(null,"selected","selected",2205476365).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
return lt.objs.sidebar.command.ensure_visible.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","move-selection","lt.objs.sidebar.command/move-selection",3585134442),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__move_selection,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"move-selection","move-selection",2808852994),null], null), null));
lt.objs.sidebar.command.__BEH__set_selection_BANG_ = (function __BEH__set_selection_BANG_(this$,idx){var cnt = cljs.core.count.call(null,new cljs.core.Keyword(null,"cur","cur",1014003122).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var neue_idx = (((cnt > 0))?cljs.core.mod.call(null,idx,(((cnt > new cljs.core.Keyword(null,"size","size",1017434995).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))?new cljs.core.Keyword(null,"size","size",1017434995).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)):cnt)):null);if(cljs.core.truth_(neue_idx))
{var old = cljs.core.nth.call(null,new cljs.core.Keyword(null,"lis","lis",1014011400).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"selected","selected",2205476365).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var neue = cljs.core.nth.call(null,new cljs.core.Keyword(null,"lis","lis",1014011400).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),neue_idx);if(cljs.core.truth_(neue))
{lt.util.dom.remove_class.call(null,old,new cljs.core.Keyword(null,"selected","selected",2205476365));
lt.util.dom.add_class.call(null,neue,new cljs.core.Keyword(null,"selected","selected",2205476365));
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",2205476365),neue_idx], null));
} else
{return null;
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","set-selection!","lt.objs.sidebar.command/set-selection!",991317818),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__set_selection_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"set-selection!","set-selection!",4610208210),null], null), null));
lt.objs.sidebar.command.__BEH__change_BANG_ = (function __BEH__change_BANG_(this$,v){var v__$1 = lt.object.raise_reduce.call(null,this$,new cljs.core.Keyword(null,"change+","change+",1752847853),v);if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"search","search",4402534682).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),v__$1))
{return null;
} else
{lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"selected","selected",2205476365),0,new cljs.core.Keyword(null,"search","search",4402534682),v__$1], null));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","change!","lt.objs.sidebar.command/change!",2493907785),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__change_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"change!","change!",1752847843),null], null), null));
lt.objs.sidebar.command.__BEH__escape_BANG_ = (function __BEH__escape_BANG_(this$){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
return lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"close-sidebar","close-sidebar",1108494329));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","escape!","lt.objs.sidebar.command/escape!",4419624474),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__escape_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"escape!","escape!",3844244274),null], null), null));
lt.objs.sidebar.command.__BEH__options_escape_BANG_ = (function __BEH__options_escape_BANG_(this$){lt.object.raise.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.Keyword(null,"cancel!","cancel!",1564120153));
return lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"close-sidebar","close-sidebar",1108494329));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","options-escape!","lt.objs.sidebar.command/options-escape!",1907886697),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__options_escape_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"escape!","escape!",3844244274),null], null), null));
lt.objs.sidebar.command.__BEH__set_on_select = (function __BEH__set_on_select(this$,thing){if(cljs.core.truth_(new cljs.core.Keyword(null,"set-on-select","set-on-select",3587180657).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{return lt.objs.sidebar.command.set_val.call(null,this$,new cljs.core.Keyword(null,"key","key",1014010321).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).call(null,thing));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","set-on-select","lt.objs.sidebar.command/set-on-select",4160534751),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__set_on_select,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select","select",4402849902),null], null), null));
lt.objs.sidebar.command.__BEH__select_BANG_ = (function __BEH__select_BANG_(this$,idx){var cur = lt.objs.sidebar.command.indexed_results.call(null,cljs.core.deref.call(null,this$));var cnt = cljs.core.count.call(null,cur);var idx__$1 = (function (){var or__3408__auto__ = idx;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return new cljs.core.Keyword(null,"selected","selected",2205476365).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
}
})();var i = cljs.core.mod.call(null,idx__$1,(((cnt > new cljs.core.Keyword(null,"size","size",1017434995).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))?new cljs.core.Keyword(null,"size","size",1017434995).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)):cnt));if((cnt > 0))
{lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"select","select",4402849902),((cur[i])[0]));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"selected","selected",2205476365));
} else
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"select-unknown","select-unknown",2733767659),lt.objs.sidebar.command.input_val.call(null,this$));
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","select!","lt.objs.sidebar.command/select!",3665427221),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__select_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select!","select!",2992004631),null], null), null));
lt.objs.sidebar.command.__BEH__filter_active = (function __BEH__filter_active(this$){return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"filter-list.input","filter-list.input",2936258401),this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","filter-active","lt.objs.sidebar.command/filter-active",3579569891),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__filter_active,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",3885920888),null], null), null));
lt.objs.sidebar.command.__BEH__filter_inactive = (function __BEH__filter_inactive(this$){return lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"filter-list.input","filter-list.input",2936258401));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","filter-inactive","lt.objs.sidebar.command/filter-inactive",2320829050),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__filter_inactive,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"inactive","inactive",1038569437),null], null), null));
lt.objs.sidebar.command.__BEH__clear_BANG_ = (function __BEH__clear_BANG_(this$){var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));lt.util.dom.val.call(null,input,"");
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"change!","change!",1752847843),"");
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","clear!","lt.objs.sidebar.command/clear!",4593594982),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__clear_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.sidebar.command.__BEH__filter_list__DOT__focus_BANG_ = (function __BEH__filter_list__DOT__focus_BANG_(this$){var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".search",".search",2278031048),lt.object.__GT_content.call(null,this$));lt.util.dom.focus.call(null,input);
return input.select();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","filter-list.focus!","lt.objs.sidebar.command/filter-list.focus!",1166243638),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__filter_list__DOT__focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",4039653819),null], null), null));
lt.objs.sidebar.command.__BEH__update_lis = (function __BEH__update_lis(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cur","cur",1014003122),lt.objs.sidebar.command.indexed_results.call(null,cljs.core.deref.call(null,this$))], null));
return lt.objs.sidebar.command.fill_lis.call(null,cljs.core.deref.call(null,this$),new cljs.core.Keyword(null,"cur","cur",1014003122).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","update-lis","lt.objs.sidebar.command/update-lis",1390862956),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__update_lis,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"refresh!","refresh!",4597922840),null], null), null));
lt.objs.sidebar.command.input = (function input(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.search","input.search",1599745982),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),crate.binding.bound.call(null,this$,new cljs.core.Keyword(null,"placeholder","placeholder",1612151013)),new cljs.core.Keyword(null,"tabindex","tabindex",4410954191),"0"], null)], null));var seq__11357_11363 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",1111509066),(function (e){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (e){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
}),new cljs.core.Keyword(null,"keyup","keyup",1115849900),(function (e){var me = this;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"change!","change!",1752847843),lt.util.dom.val.call(null,me));
})], null)));var chunk__11358_11364 = null;var count__11359_11365 = 0;var i__11360_11366 = 0;while(true){
if((i__11360_11366 < count__11359_11365))
{var vec__11361_11367 = cljs.core._nth.call(null,chunk__11358_11364,i__11360_11366);var ev__4336__auto___11368 = cljs.core.nth.call(null,vec__11361_11367,0,null);var func__4337__auto___11369 = cljs.core.nth.call(null,vec__11361_11367,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11368,func__4337__auto___11369);
{
var G__11370 = seq__11357_11363;
var G__11371 = chunk__11358_11364;
var G__11372 = count__11359_11365;
var G__11373 = (i__11360_11366 + 1);
seq__11357_11363 = G__11370;
chunk__11358_11364 = G__11371;
count__11359_11365 = G__11372;
i__11360_11366 = G__11373;
continue;
}
} else
{var temp__4092__auto___11374 = cljs.core.seq.call(null,seq__11357_11363);if(temp__4092__auto___11374)
{var seq__11357_11375__$1 = temp__4092__auto___11374;if(cljs.core.chunked_seq_QMARK_.call(null,seq__11357_11375__$1))
{var c__4150__auto___11376 = cljs.core.chunk_first.call(null,seq__11357_11375__$1);{
var G__11377 = cljs.core.chunk_rest.call(null,seq__11357_11375__$1);
var G__11378 = c__4150__auto___11376;
var G__11379 = cljs.core.count.call(null,c__4150__auto___11376);
var G__11380 = 0;
seq__11357_11363 = G__11377;
chunk__11358_11364 = G__11378;
count__11359_11365 = G__11379;
i__11360_11366 = G__11380;
continue;
}
} else
{var vec__11362_11381 = cljs.core.first.call(null,seq__11357_11375__$1);var ev__4336__auto___11382 = cljs.core.nth.call(null,vec__11362_11381,0,null);var func__4337__auto___11383 = cljs.core.nth.call(null,vec__11362_11381,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11382,func__4337__auto___11383);
{
var G__11384 = cljs.core.next.call(null,seq__11357_11375__$1);
var G__11385 = null;
var G__11386 = 0;
var G__11387 = 0;
seq__11357_11363 = G__11384;
chunk__11358_11364 = G__11385;
count__11359_11365 = G__11386;
i__11360_11366 = G__11387;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.sidebar.command.__GT_items = (function __GT_items(items){if((function (){var G__11389 = items;if(G__11389)
{var bit__4052__auto__ = (G__11389.cljs$lang$protocol_mask$partition0$ & 32768);if((bit__4052__auto__) || (G__11389.cljs$core$IDeref$))
{return true;
} else
{if((!G__11389.cljs$lang$protocol_mask$partition0$))
{return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IDeref,G__11389);
} else
{return false;
}
}
} else
{return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IDeref,G__11389);
}
})())
{return cljs.core.deref.call(null,items);
} else
{if(cljs.core.fn_QMARK_.call(null,items))
{return items.call(null);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return items;
} else
{return null;
}
}
}
});
lt.objs.sidebar.command.score_sort = (function score_sort(x,y){return ((y[3]) - (x[3]));
});
lt.objs.sidebar.command.score_sort2 = (function score_sort2(x,y){return ((y[4]).score - (x[4]).score);
});
lt.objs.sidebar.command.indexed_results = (function indexed_results(p__11396){var map__11398 = p__11396;var map__11398__$1 = ((cljs.core.seq_QMARK_.call(null,map__11398))?cljs.core.apply.call(null,cljs.core.hash_map,map__11398):map__11398);var key = cljs.core.get.call(null,map__11398__$1,new cljs.core.Keyword(null,"key","key",1014010321));var items = cljs.core.get.call(null,map__11398__$1,new cljs.core.Keyword(null,"items","items",1114430258));var size = cljs.core.get.call(null,map__11398__$1,new cljs.core.Keyword(null,"size","size",1017434995));var search = cljs.core.get.call(null,map__11398__$1,new cljs.core.Keyword(null,"search","search",4402534682));var items__$1 = cljs.core.apply.call(null,cljs.core.array,lt.objs.sidebar.command.__GT_items.call(null,items));var map_func3 = ((function (items__$1){
return (function (p1__11390_SHARP_){return [p1__11390_SHARP_,key.call(null,p1__11390_SHARP_),fastScore(key.call(null,p1__11390_SHARP_),search),null,null];
});})(items__$1))
;var map_func = ((function (items__$1,map_func3){
return (function (p1__11391_SHARP_){(p1__11391_SHARP_[3] = (p1__11391_SHARP_[1]).score(search));
return p1__11391_SHARP_;
});})(items__$1,map_func3))
;var map_func2 = ((function (items__$1,map_func3,map_func){
return (function (p1__11392_SHARP_){(p1__11392_SHARP_[4] = score((p1__11392_SHARP_[1]),search));
return p1__11392_SHARP_;
});})(items__$1,map_func3,map_func))
;var has_score = ((function (items__$1,map_func3,map_func,map_func2){
return (function (p1__11393_SHARP_){return ((p1__11393_SHARP_[4]).score > 0);
});})(items__$1,map_func3,map_func,map_func2))
;if(!(cljs.core.empty_QMARK_.call(null,search)))
{var score0 = items__$1.map(map_func3).filter((function (p1__11394_SHARP_){return (p1__11394_SHARP_[2]);
}));var score1 = score0.map(map_func).sort(lt.objs.sidebar.command.score_sort);var score2 = score1.slice(0,50).map(map_func2).filter(has_score).sort(lt.objs.sidebar.command.score_sort2);return score2;
} else
{return items__$1.map((function (p1__11395_SHARP_){return [p1__11395_SHARP_,key.call(null,p1__11395_SHARP_),null,null];
}));
}
});
lt.objs.sidebar.command.item = (function item(this$,x){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"index","index",1114250308),x], null)], null));var seq__11405_11411 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"mousedown","mousedown",1600748089),(function (e){lt.util.dom.prevent.call(null,e);
lt.util.dom.stop_propagation.call(null,e);
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"set-selection!","set-selection!",4610208210),x);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"select!","select!",2992004631),x);
})], null)));var chunk__11406_11412 = null;var count__11407_11413 = 0;var i__11408_11414 = 0;while(true){
if((i__11408_11414 < count__11407_11413))
{var vec__11409_11415 = cljs.core._nth.call(null,chunk__11406_11412,i__11408_11414);var ev__4336__auto___11416 = cljs.core.nth.call(null,vec__11409_11415,0,null);var func__4337__auto___11417 = cljs.core.nth.call(null,vec__11409_11415,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11416,func__4337__auto___11417);
{
var G__11418 = seq__11405_11411;
var G__11419 = chunk__11406_11412;
var G__11420 = count__11407_11413;
var G__11421 = (i__11408_11414 + 1);
seq__11405_11411 = G__11418;
chunk__11406_11412 = G__11419;
count__11407_11413 = G__11420;
i__11408_11414 = G__11421;
continue;
}
} else
{var temp__4092__auto___11422 = cljs.core.seq.call(null,seq__11405_11411);if(temp__4092__auto___11422)
{var seq__11405_11423__$1 = temp__4092__auto___11422;if(cljs.core.chunked_seq_QMARK_.call(null,seq__11405_11423__$1))
{var c__4150__auto___11424 = cljs.core.chunk_first.call(null,seq__11405_11423__$1);{
var G__11425 = cljs.core.chunk_rest.call(null,seq__11405_11423__$1);
var G__11426 = c__4150__auto___11424;
var G__11427 = cljs.core.count.call(null,c__4150__auto___11424);
var G__11428 = 0;
seq__11405_11411 = G__11425;
chunk__11406_11412 = G__11426;
count__11407_11413 = G__11427;
i__11408_11414 = G__11428;
continue;
}
} else
{var vec__11410_11429 = cljs.core.first.call(null,seq__11405_11423__$1);var ev__4336__auto___11430 = cljs.core.nth.call(null,vec__11410_11429,0,null);var func__4337__auto___11431 = cljs.core.nth.call(null,vec__11410_11429,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11430,func__4337__auto___11431);
{
var G__11432 = cljs.core.next.call(null,seq__11405_11423__$1);
var G__11433 = null;
var G__11434 = 0;
var G__11435 = 0;
seq__11405_11411 = G__11432;
chunk__11406_11412 = G__11433;
count__11407_11413 = G__11434;
i__11408_11414 = G__11435;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.sidebar.command.fill_lis = (function fill_lis(p__11439,results){var map__11453 = p__11439;var map__11453__$1 = ((cljs.core.seq_QMARK_.call(null,map__11453))?cljs.core.apply.call(null,cljs.core.hash_map,map__11453):map__11453);var this$ = map__11453__$1;var transform = cljs.core.get.call(null,map__11453__$1,new cljs.core.Keyword(null,"transform","transform",2066570974));var key = cljs.core.get.call(null,map__11453__$1,new cljs.core.Keyword(null,"key","key",1014010321));var selected = cljs.core.get.call(null,map__11453__$1,new cljs.core.Keyword(null,"selected","selected",2205476365));var search = cljs.core.get.call(null,map__11453__$1,new cljs.core.Keyword(null,"search","search",4402534682));var size = cljs.core.get.call(null,map__11453__$1,new cljs.core.Keyword(null,"size","size",1017434995));var lis = cljs.core.get.call(null,map__11453__$1,new cljs.core.Keyword(null,"lis","lis",1014011400));var cnt = cljs.core.count.call(null,results);var cur = cljs.core.mod.call(null,selected,(((cnt > size))?size:cnt));var transform__$1 = (cljs.core.truth_(transform)?transform:((function (cnt,cur){
return (function (p1__11437_SHARP_,p2__11438_SHARP_,p3__11436_SHARP_){return p3__11436_SHARP_;
});})(cnt,cur))
);if(cljs.core._EQ_.call(null,cnt,0))
{lt.util.dom.add_class.call(null,new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(this$),new cljs.core.Keyword(null,"empty","empty",1110538431));
} else
{lt.util.dom.remove_class.call(null,new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(this$),new cljs.core.Keyword(null,"empty","empty",1110538431));
}
var seq__11454_11466 = cljs.core.seq.call(null,cljs.core.map.call(null,cljs.core.vector,cljs.core.range.call(null),lis,results));var chunk__11456_11467 = null;var count__11457_11468 = 0;var i__11458_11469 = 0;while(true){
if((i__11458_11469 < count__11457_11468))
{var vec__11460_11470 = cljs.core._nth.call(null,chunk__11456_11467,i__11458_11469);var i_11471 = cljs.core.nth.call(null,vec__11460_11470,0,null);var li_11472 = cljs.core.nth.call(null,vec__11460_11470,1,null);var res_11473 = cljs.core.nth.call(null,vec__11460_11470,2,null);if(cljs.core.truth_(res_11473))
{lt.util.dom.html.call(null,li_11472,transform__$1.call(null,(res_11473[1]),(res_11473[4]),((!(cljs.core.empty_QMARK_.call(null,search)))?wrapMatch((res_11473[1]),(res_11473[4])):(res_11473[1])),(res_11473[0])));
lt.util.dom.css.call(null,li_11472,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"display","display",2685668404),"block"], null));
if(cljs.core._EQ_.call(null,i_11471,cur))
{lt.util.dom.add_class.call(null,li_11472,new cljs.core.Keyword(null,"selected","selected",2205476365));
} else
{lt.util.dom.remove_class.call(null,li_11472,new cljs.core.Keyword(null,"selected","selected",2205476365));
}
{
var G__11474 = seq__11454_11466;
var G__11475 = chunk__11456_11467;
var G__11476 = count__11457_11468;
var G__11477 = (i__11458_11469 + 1);
seq__11454_11466 = G__11474;
chunk__11456_11467 = G__11475;
count__11457_11468 = G__11476;
i__11458_11469 = G__11477;
continue;
}
} else
{{
var G__11478 = seq__11454_11466;
var G__11479 = chunk__11456_11467;
var G__11480 = count__11457_11468;
var G__11481 = (i__11458_11469 + 1);
seq__11454_11466 = G__11478;
chunk__11456_11467 = G__11479;
count__11457_11468 = G__11480;
i__11458_11469 = G__11481;
continue;
}
}
} else
{var temp__4092__auto___11482 = cljs.core.seq.call(null,seq__11454_11466);if(temp__4092__auto___11482)
{var seq__11454_11483__$1 = temp__4092__auto___11482;if(cljs.core.chunked_seq_QMARK_.call(null,seq__11454_11483__$1))
{var c__4150__auto___11484 = cljs.core.chunk_first.call(null,seq__11454_11483__$1);{
var G__11485 = cljs.core.chunk_rest.call(null,seq__11454_11483__$1);
var G__11486 = c__4150__auto___11484;
var G__11487 = cljs.core.count.call(null,c__4150__auto___11484);
var G__11488 = 0;
seq__11454_11466 = G__11485;
chunk__11456_11467 = G__11486;
count__11457_11468 = G__11487;
i__11458_11469 = G__11488;
continue;
}
} else
{var vec__11461_11489 = cljs.core.first.call(null,seq__11454_11483__$1);var i_11490 = cljs.core.nth.call(null,vec__11461_11489,0,null);var li_11491 = cljs.core.nth.call(null,vec__11461_11489,1,null);var res_11492 = cljs.core.nth.call(null,vec__11461_11489,2,null);if(cljs.core.truth_(res_11492))
{lt.util.dom.html.call(null,li_11491,transform__$1.call(null,(res_11492[1]),(res_11492[4]),((!(cljs.core.empty_QMARK_.call(null,search)))?wrapMatch((res_11492[1]),(res_11492[4])):(res_11492[1])),(res_11492[0])));
lt.util.dom.css.call(null,li_11491,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"display","display",2685668404),"block"], null));
if(cljs.core._EQ_.call(null,i_11490,cur))
{lt.util.dom.add_class.call(null,li_11491,new cljs.core.Keyword(null,"selected","selected",2205476365));
} else
{lt.util.dom.remove_class.call(null,li_11491,new cljs.core.Keyword(null,"selected","selected",2205476365));
}
{
var G__11493 = cljs.core.next.call(null,seq__11454_11483__$1);
var G__11494 = null;
var G__11495 = 0;
var G__11496 = 0;
seq__11454_11466 = G__11493;
chunk__11456_11467 = G__11494;
count__11457_11468 = G__11495;
i__11458_11469 = G__11496;
continue;
}
} else
{{
var G__11497 = cljs.core.next.call(null,seq__11454_11483__$1);
var G__11498 = null;
var G__11499 = 0;
var G__11500 = 0;
seq__11454_11466 = G__11497;
chunk__11456_11467 = G__11498;
count__11457_11468 = G__11499;
i__11458_11469 = G__11500;
continue;
}
}
}
} else
{}
}
break;
}
var seq__11462 = cljs.core.seq.call(null,cljs.core.drop.call(null,cnt,lis));var chunk__11463 = null;var count__11464 = 0;var i__11465 = 0;while(true){
if((i__11465 < count__11464))
{var li = cljs.core._nth.call(null,chunk__11463,i__11465);lt.util.dom.css.call(null,li,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"display","display",2685668404),"none"], null));
{
var G__11501 = seq__11462;
var G__11502 = chunk__11463;
var G__11503 = count__11464;
var G__11504 = (i__11465 + 1);
seq__11462 = G__11501;
chunk__11463 = G__11502;
count__11464 = G__11503;
i__11465 = G__11504;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__11462);if(temp__4092__auto__)
{var seq__11462__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__11462__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__11462__$1);{
var G__11505 = cljs.core.chunk_rest.call(null,seq__11462__$1);
var G__11506 = c__4150__auto__;
var G__11507 = cljs.core.count.call(null,c__4150__auto__);
var G__11508 = 0;
seq__11462 = G__11505;
chunk__11463 = G__11506;
count__11464 = G__11507;
i__11465 = G__11508;
continue;
}
} else
{var li = cljs.core.first.call(null,seq__11462__$1);lt.util.dom.css.call(null,li,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"display","display",2685668404),"none"], null));
{
var G__11509 = cljs.core.next.call(null,seq__11462__$1);
var G__11510 = null;
var G__11511 = 0;
var G__11512 = 0;
seq__11462 = G__11509;
chunk__11463 = G__11510;
count__11464 = G__11511;
i__11465 = G__11512;
continue;
}
}
} else
{return null;
}
}
break;
}
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","filter-list","lt.objs.sidebar.command/filter-list",686625835),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"filter-list","filter-list",4372522309),null], null), null),new cljs.core.Keyword(null,"selected","selected",2205476365),0,new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"search",new cljs.core.Keyword(null,"items","items",1114430258),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"search","search",4402534682),"",new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,opts){var opts__$1 = cljs.core.merge.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"size","size",1017434995),100], null),opts);var lis = (function (){var iter__4119__auto__ = ((function (opts__$1){
return (function iter__11513(s__11514){return (new cljs.core.LazySeq(null,((function (opts__$1){
return (function (){var s__11514__$1 = s__11514;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__11514__$1);if(temp__4092__auto__)
{var s__11514__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11514__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__11514__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__11516 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__11515 = 0;while(true){
if((i__11515 < size__4118__auto__))
{var x = cljs.core._nth.call(null,c__4117__auto__,i__11515);cljs.core.chunk_append.call(null,b__11516,lt.objs.sidebar.command.item.call(null,this$,x));
{
var G__11517 = (i__11515 + 1);
i__11515 = G__11517;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11516),iter__11513.call(null,cljs.core.chunk_rest.call(null,s__11514__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11516),null);
}
} else
{var x = cljs.core.first.call(null,s__11514__$2);return cljs.core.cons.call(null,lt.objs.sidebar.command.item.call(null,this$,x),iter__11513.call(null,cljs.core.rest.call(null,s__11514__$2)));
}
} else
{return null;
}
break;
}
});})(opts__$1))
,null,null));
});})(opts__$1))
;return iter__4119__auto__.call(null,cljs.core.range.call(null,new cljs.core.Keyword(null,"size","size",1017434995).cljs$core$IFn$_invoke$arity$1(opts__$1)));
})();lt.object.merge_BANG_.call(null,this$,cljs.core.merge.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"lis","lis",1014011400),cljs.core.vec.call(null,lis)], null),opts__$1));
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.filter-list.empty","div.filter-list.empty",3131797703),lt.objs.sidebar.command.input.call(null,this$),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",1013907977),lis], null)], null);
}));
lt.objs.sidebar.command.filter_list = (function filter_list(opts){var lst = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","filter-list","lt.objs.sidebar.command/filter-list",686625835),opts);lt.object.raise.call(null,lst,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
return lst;
});
lt.objs.sidebar.command.__BEH__select_command = (function __BEH__select_command(this$,sel){var temp__4092__auto__ = lt.objs.sidebar.command.by_id.call(null,sel);if(cljs.core.truth_(temp__4092__auto__))
{var cmd = temp__4092__auto__;if(cljs.core.truth_(new cljs.core.Keyword(null,"options","options",4059396624).cljs$core$IFn$_invoke$arity$1(cmd)))
{lt.object.merge_BANG_.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",3885920888),cmd], null));
return lt.object.raise.call(null,new cljs.core.Keyword(null,"options","options",4059396624).cljs$core$IFn$_invoke$arity$1(cmd),new cljs.core.Keyword(null,"focus!","focus!",4039653819));
} else
{lt.object.raise.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.Keyword(null,"exec!","exec!",1110854946),cmd);
lt.object.raise.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.Keyword(null,"selected-exec","selected-exec",2423866357),cmd);
return lt.object.merge_BANG_.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",3885920888),null], null));
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","select-command","lt.objs.sidebar.command/select-command",4575873636),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__select_command,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select","select",4402849902),null], null), null));
lt.objs.sidebar.command.__BEH__select_hidden = (function __BEH__select_hidden(this$,v){var temp__4092__auto__ = lt.objs.sidebar.command.by_id.call(null,cljs.core.keyword.call(null,v));if(cljs.core.truth_(temp__4092__auto__))
{var cmd = temp__4092__auto__;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"select","select",4402849902),cmd);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","select-hidden","lt.objs.sidebar.command/select-hidden",878710275),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__select_hidden,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select-unknown","select-unknown",2733767659),null], null), null));
lt.objs.sidebar.command.__BEH__post_select_pop = (function __BEH__post_select_pop(this$){if(cljs.core._EQ_.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.sidebar.rightbar))))
{return lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"close!","close!",3951350939),cljs.core.not.call(null,(function (){var or__3408__auto__ = lt.objs.context.in_QMARK_.call(null,new cljs.core.Keyword(null,"filter-list.input","filter-list.input",2936258401));if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.objs.context.in_QMARK_.call(null,new cljs.core.Keyword(null,"options-input","options-input",2975266637));
}
})()));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","post-select-pop","lt.objs.sidebar.command/post-select-pop",4406886573),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__post_select_pop,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected-exec","selected-exec",2423866357),null], null), null));
/**
* @param {...*} var_args
*/
lt.objs.sidebar.command.__BEH__exec_command = (function() { 
var __BEH__exec_command__delegate = function (this$,sel,args){var cmd = lt.objs.sidebar.command.by_id.call(null,sel);if(cljs.core.not.call(null,new cljs.core.Keyword(null,"options","options",4059396624).cljs$core$IFn$_invoke$arity$1(cmd)))
{return cljs.core.apply.call(null,lt.objs.sidebar.command.exec_BANG_,cmd,args);
} else
{if(cljs.core.truth_((function (){var and__3396__auto__ = new cljs.core.Keyword(null,"options","options",4059396624).cljs$core$IFn$_invoke$arity$1(cmd);if(cljs.core.truth_(and__3396__auto__))
{return cljs.core.seq.call(null,args);
} else
{return and__3396__auto__;
}
})()))
{return cljs.core.apply.call(null,new cljs.core.Keyword(null,"exec","exec",1017031683).cljs$core$IFn$_invoke$arity$1(cmd),args);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"show-commandbar-transient","show-commandbar-transient",3110127655));
return lt.object.raise.call(null,new cljs.core.Keyword(null,"selector","selector",2205476689).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"select","select",4402849902),cmd);
} else
{return null;
}
}
}
};
var __BEH__exec_command = function (this$,sel,var_args){
var args = null;if (arguments.length > 2) {
  args = cljs.core.array_seq(Array.prototype.slice.call(arguments, 2),0);} 
return __BEH__exec_command__delegate.call(this,this$,sel,args);};
__BEH__exec_command.cljs$lang$maxFixedArity = 2;
__BEH__exec_command.cljs$lang$applyTo = (function (arglist__11518){
var this$ = cljs.core.first(arglist__11518);
arglist__11518 = cljs.core.next(arglist__11518);
var sel = cljs.core.first(arglist__11518);
var args = cljs.core.rest(arglist__11518);
return __BEH__exec_command__delegate(this$,sel,args);
});
__BEH__exec_command.cljs$core$IFn$_invoke$arity$variadic = __BEH__exec_command__delegate;
return __BEH__exec_command;
})()
;
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","exec-command","lt.objs.sidebar.command/exec-command",1772645359),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__exec_command,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"exec!","exec!",1110854946),null], null), null));
lt.objs.sidebar.command.__BEH__exec_active_BANG_ = (function __BEH__exec_active_BANG_(this$,args){var cmd = new cljs.core.Keyword(null,"active","active",3885920888).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));cljs.core.apply.call(null,new cljs.core.Keyword(null,"exec","exec",1017031683).cljs$core$IFn$_invoke$arity$1(cmd),args);
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"selected-exec","selected-exec",2423866357),cmd);
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",3885920888),null], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","exec-active!","lt.objs.sidebar.command/exec-active!",3886149887),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__exec_active_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"exec-active!","exec-active!",3313422353),null], null), null));
lt.objs.sidebar.command.__BEH__focus_on_show = (function __BEH__focus_on_show(this$){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","focus-on-show","lt.objs.sidebar.command/focus-on-show",2355413928),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__focus_on_show,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show","show",1017433711),null], null), null));
lt.objs.sidebar.command.__BEH__focus_BANG_ = (function __BEH__focus_BANG_(this$){if(cljs.core.not.call(null,new cljs.core.Keyword(null,"active","active",3885920888).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".search",".search",2278031048),lt.object.__GT_content.call(null,this$));lt.util.dom.focus.call(null,input);
return input.select();
} else
{return lt.object.raise.call(null,new cljs.core.Keyword(null,"options","options",4059396624).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"active","active",3885920888).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.Keyword(null,"focus!","focus!",4039653819));
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","focus!","lt.objs.sidebar.command/focus!",4782843825),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",4039653819),null], null), null));
lt.objs.sidebar.command.__BEH__soft_focus_BANG_ = (function __BEH__soft_focus_BANG_(this$){var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".search",".search",2278031048),lt.object.__GT_content.call(null,this$));return lt.util.dom.focus.call(null,input);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","soft-focus!","lt.objs.sidebar.command/soft-focus!",1534012590),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__soft_focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"soft-focus!","soft-focus!",824282302),null], null), null));
lt.objs.sidebar.command.__BEH__refresh_BANG_ = (function __BEH__refresh_BANG_(this$){return lt.object.raise.call(null,new cljs.core.Keyword(null,"selector","selector",2205476689).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","refresh!","lt.objs.sidebar.command/refresh!",978443544),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__refresh_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"refresh!","refresh!",4597922840),null], null), null));
lt.objs.sidebar.command.__BEH__cancel_BANG_ = (function __BEH__cancel_BANG_(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",3885920888),null], null));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","cancel!","lt.objs.sidebar.command/cancel!",2137375959),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__cancel_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cancel!","cancel!",1564120153),null], null), null));
lt.objs.sidebar.command.header_button = (function header_button(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",1013907516),crate.binding.bound.call(null,this$,(function (p1__11519_SHARP_){return new cljs.core.Keyword(null,"desc","desc",1016984067).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"active","active",3885920888).cljs$core$IFn$_invoke$arity$1(p1__11519_SHARP_));
}))], null));var seq__11526_11532 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cancel!","cancel!",1564120153));
})], null)));var chunk__11527_11533 = null;var count__11528_11534 = 0;var i__11529_11535 = 0;while(true){
if((i__11529_11535 < count__11528_11534))
{var vec__11530_11536 = cljs.core._nth.call(null,chunk__11527_11533,i__11529_11535);var ev__4336__auto___11537 = cljs.core.nth.call(null,vec__11530_11536,0,null);var func__4337__auto___11538 = cljs.core.nth.call(null,vec__11530_11536,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11537,func__4337__auto___11538);
{
var G__11539 = seq__11526_11532;
var G__11540 = chunk__11527_11533;
var G__11541 = count__11528_11534;
var G__11542 = (i__11529_11535 + 1);
seq__11526_11532 = G__11539;
chunk__11527_11533 = G__11540;
count__11528_11534 = G__11541;
i__11529_11535 = G__11542;
continue;
}
} else
{var temp__4092__auto___11543 = cljs.core.seq.call(null,seq__11526_11532);if(temp__4092__auto___11543)
{var seq__11526_11544__$1 = temp__4092__auto___11543;if(cljs.core.chunked_seq_QMARK_.call(null,seq__11526_11544__$1))
{var c__4150__auto___11545 = cljs.core.chunk_first.call(null,seq__11526_11544__$1);{
var G__11546 = cljs.core.chunk_rest.call(null,seq__11526_11544__$1);
var G__11547 = c__4150__auto___11545;
var G__11548 = cljs.core.count.call(null,c__4150__auto___11545);
var G__11549 = 0;
seq__11526_11532 = G__11546;
chunk__11527_11533 = G__11547;
count__11528_11534 = G__11548;
i__11529_11535 = G__11549;
continue;
}
} else
{var vec__11531_11550 = cljs.core.first.call(null,seq__11526_11544__$1);var ev__4336__auto___11551 = cljs.core.nth.call(null,vec__11531_11550,0,null);var func__4337__auto___11552 = cljs.core.nth.call(null,vec__11531_11550,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___11551,func__4337__auto___11552);
{
var G__11553 = cljs.core.next.call(null,seq__11526_11544__$1);
var G__11554 = null;
var G__11555 = 0;
var G__11556 = 0;
seq__11526_11532 = G__11553;
chunk__11527_11533 = G__11554;
count__11528_11534 = G__11555;
i__11529_11535 = G__11556;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.sidebar.command.__GT_options = (function __GT_options(this$,active){if(cljs.core.truth_(new cljs.core.Keyword(null,"options","options",4059396624).cljs$core$IFn$_invoke$arity$1(active)))
{return lt.object.__GT_content.call(null,new cljs.core.Keyword(null,"options","options",4059396624).cljs$core$IFn$_invoke$arity$1(active));
} else
{return null;
}
});
lt.objs.sidebar.command.__GT_command_class = (function __GT_command_class(this$){return [cljs.core.str("command "),cljs.core.str((cljs.core.truth_(new cljs.core.Keyword(null,"active","active",3885920888).cljs$core$IFn$_invoke$arity$1(this$))?"options":"selector")),cljs.core.str((cljs.core.truth_(lt.util.dom.has_class_QMARK_.call(null,new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(this$),new cljs.core.Keyword(null,"active","active",3885920888)))?" active":null))].join('');
});
lt.objs.sidebar.command.__GT_binding = (function __GT_binding(p__11557){var vec__11559 = p__11557;var k = cljs.core.nth.call(null,vec__11559,0,null);var v = cljs.core.nth.call(null,vec__11559,1,null);return [cljs.core.str(v),cljs.core.str(((([cljs.core.str(k)].join('').indexOf("emacs") > -1))?" (Emacs)":null)),cljs.core.str(((([cljs.core.str(k)].join('').indexOf("vim") > -1))?" (Vim)":null))].join('');
});
lt.objs.sidebar.command.command__GT_display = (function command__GT_display(orig,scored,highlighted,item){return [cljs.core.str("<p>"),cljs.core.str(highlighted),cljs.core.str("<p>"),cljs.core.str((function (){var temp__4092__auto__ = cljs.core.seq.call(null,lt.objs.keyboard.cmd__GT_bindings.call(null,item.call(null,new cljs.core.Keyword(null,"command","command",1964298941))));if(temp__4092__auto__)
{var binding = temp__4092__auto__;return [cljs.core.str("<p class='binding'>"),cljs.core.str(clojure.string.join.call(null," | ",cljs.core.map.call(null,lt.objs.sidebar.command.__GT_binding,cljs.core.reverse.call(null,binding)))),cljs.core.str("</p>")].join('');
} else
{return null;
}
})())].join('');
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","sidebar.command","lt.objs.sidebar.command/sidebar.command",4586401569),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"sidebar.command","sidebar.command",3945910827),null], null), null),new cljs.core.Keyword(null,"label","label",1116631654),"command",new cljs.core.Keyword(null,"active","active",3885920888),null,new cljs.core.Keyword(null,"order","order",1119910592),3,new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){var commands = crate.binding.subatom.call(null,lt.objs.command.manager,new cljs.core.Keyword(null,"commands","commands",4706336250));var f2 = crate.binding.computed.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [commands], null),((function (commands){
return (function (cmds){return cljs.core.filter.call(null,((function (commands){
return (function (p1__11560_SHARP_){return cljs.core.not.call(null,new cljs.core.Keyword(null,"hidden","hidden",4091384092).cljs$core$IFn$_invoke$arity$1(p1__11560_SHARP_));
});})(commands))
,cljs.core.vals.call(null,cmds));
});})(commands))
);var s2 = lt.objs.sidebar.command.filter_list.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"items","items",1114430258),f2,new cljs.core.Keyword(null,"transform","transform",2066570974),((function (commands,f2){
return (function (p1__11561_SHARP_,p2__11562_SHARP_,p3__11563_SHARP_,p4__11564_SHARP_){return lt.objs.sidebar.command.command__GT_display.call(null,p1__11561_SHARP_,p2__11562_SHARP_,p3__11563_SHARP_,p4__11564_SHARP_);
});})(commands,f2))
,new cljs.core.Keyword(null,"key","key",1014010321),new cljs.core.Keyword(null,"desc","desc",1016984067)], null));lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selector","selector",2205476689),s2], null));
lt.object.add_tags.call(null,s2,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"command.selector","command.selector",1674182292)], null));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,lt.objs.sidebar.command.__GT_command_class)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.selector","div.selector",3570198542),lt.object.__GT_content.call(null,s2)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.options","div.options",1332473267),lt.objs.sidebar.command.header_button.call(null,this$),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888)),(function (p1__11565_SHARP_){return lt.objs.sidebar.command.__GT_options.call(null,this$,p1__11565_SHARP_);
}))], null)], null)], null);
}));
lt.objs.sidebar.command.__BEH__init_commands = (function __BEH__init_commands(app){return lt.object.raise.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","init-commands","lt.objs.sidebar.command/init-commands",802745109),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.sidebar.command.__BEH__init_commands,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"post-init","post-init",2970371471),null], null), null));
lt.objs.sidebar.command.sidebar_command = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.command","sidebar.command","lt.objs.sidebar.command/sidebar.command",4586401569));
lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"commandbar","commandbar",1798064218),lt.objs.sidebar.command.sidebar_command);
lt.objs.sidebar.add_item.call(null,lt.objs.sidebar.rightbar,lt.objs.sidebar.command.sidebar_command);
lt.objs.sidebar.command.command = lt.objs.command.command;
lt.objs.sidebar.command.show_and_focus = (function show_and_focus(opts){return lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"toggle","toggle",4440567494),lt.objs.sidebar.command.sidebar_command,opts);
});
lt.objs.sidebar.command.pre_fill = (function pre_fill(v){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,".search",".search",2278031048),lt.object.__GT_content.call(null,lt.objs.sidebar.command.sidebar_command)),v);
});
lt.objs.sidebar.command.show_filled = (function show_filled(fill,opts){lt.objs.sidebar.command.pre_fill.call(null,fill);
lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"toggle","toggle",4440567494),lt.objs.sidebar.command.sidebar_command,cljs.core.assoc.call(null,opts,new cljs.core.Keyword(null,"soft?","soft?",1123517639),true));
return lt.object.raise.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.Keyword(null,"soft-focus!","soft-focus!",824282302));
});
lt.objs.sidebar.command.by_id = lt.objs.command.by_id;
lt.objs.sidebar.command.exec_BANG_ = lt.objs.command.exec_BANG_;
/**
* @param {...*} var_args
*/
lt.objs.sidebar.command.exec_active_BANG_ = (function() { 
var exec_active_BANG___delegate = function (args){return lt.object.raise.call(null,lt.objs.sidebar.command.sidebar_command,new cljs.core.Keyword(null,"exec-active!","exec-active!",3313422353),args);
};
var exec_active_BANG_ = function (var_args){
var args = null;if (arguments.length > 0) {
  args = cljs.core.array_seq(Array.prototype.slice.call(arguments, 0),0);} 
return exec_active_BANG___delegate.call(this,args);};
exec_active_BANG_.cljs$lang$maxFixedArity = 0;
exec_active_BANG_.cljs$lang$applyTo = (function (arglist__11566){
var args = cljs.core.seq(arglist__11566);
return exec_active_BANG___delegate(args);
});
exec_active_BANG_.cljs$core$IFn$_invoke$arity$variadic = exec_active_BANG___delegate;
return exec_active_BANG_;
})()
;
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"show-commandbar","show-commandbar",3043887402),new cljs.core.Keyword(null,"desc","desc",1016984067),"Command: Show command bar",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.objs.sidebar.command.show_and_focus.call(null,cljs.core.PersistentArrayMap.EMPTY);
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"show-commandbar-transient","show-commandbar-transient",3110127655),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"Command: Show command bar transiently",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.objs.sidebar.command.show_and_focus.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"transient?","transient?",3584270951),true], null));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"quit","quit",1017386433),new cljs.core.Keyword(null,"desc","desc",1016984067),"Window: Quit Light Table",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.objs.app.close.call(null);
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"passthrough","passthrough",3850081542),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"No-op key passthrough",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.objs.keyboard.passthrough.call(null);
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"filter-list.input.move-selection","filter-list.input.move-selection",2715992545),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"FilterList: move selection",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (dir){return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"filter-list.input","filter-list.input",2936258401)),new cljs.core.Keyword(null,"move-selection","move-selection",2808852994),dir);
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"filter-list.input.select!","filter-list.input.select!",2873744152),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"FilterList: select",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"filter-list.input","filter-list.input",2936258401)),new cljs.core.Keyword(null,"select!","select!",2992004631));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"filter-list.input.escape!","filter-list.input.escape!",3725983795),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"FilterList: escape",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (force_QMARK_){return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"filter-list.input","filter-list.input",2936258401)),new cljs.core.Keyword(null,"escape!","escape!",3844244274),force_QMARK_);
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"options-input.select!","options-input.select!",4522272516),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"OptionsInput: select",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"options-input","options-input",2975266637)),new cljs.core.Keyword(null,"select!","select!",2992004631));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"options-input.escape!","options-input.escape!",1079544863),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"OptionsInput: escape",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"options-input","options-input",2975266637)),new cljs.core.Keyword(null,"escape!","escape!",3844244274));
})], null));
